
! function(t) {
    var e, n = {
            NOT_RESOLVED: "NOT_RESOLVED",
            IN_RESOLVING: "IN_RESOLVING",
            RESOLVED: "RESOLVED"
        },
        i = function() {
            var h = {
                    trackCircularDependencies: !0,
                    allowMultipleDeclarations: !0
                },
                d = {},
                f = !1,
                m = [],
                p = function(t, i, o) {
                    o || (o = i, i = []);
                    var s = d[t];
                    s || (s = d[t] = {
                        name: t,
                        decl: e
                    }), s.decl = {
                        name: t,
                        prev: s.decl,
                        fn: o,
                        state: n.NOT_RESOLVED,
                        deps: i,
                        dependents: [],
                        exports: e
                    }
                },
                _ = function(e, n, i) {
                    "string" == typeof e && (e = [e]), f || (f = !0, l(E)), m.push({
                        deps: e,
                        cb: function(e, s) {
                            s ? (i || o)(s) : n.apply(t, e)
                        }
                    })
                },
                v = function(t) {
                    var e = d[t];
                    return e ? n[e.decl.state] : "NOT_DEFINED"
                },
                b = function(t) {
                    return !!d[t]
                },
                g = function(t) {
                    for (var e in t) t.hasOwnProperty(e) && (h[e] = t[e])
                },
                y = function() {
                    var t, e = {};
                    for (var n in d) d.hasOwnProperty(n) && (t = d[n], (e[t.decl.state] || (e[t.decl.state] = [])).push(n));
                    return e
                },
                E = function() {
                    f = !1, k()
                },
                k = function() {
                    var t, e = m,
                        n = 0;
                    for (m = []; t = e[n++];) M(null, t.deps, [], t.cb)
                },
                M = function(t, e, n, i) {
                    var o = e.length;
                    o || i([]);
                    for (var r, c, a = [], u = function(t, e) {
                            if (e) return void i(null, e);
                            if (!--o) {
                                for (var n, s = [], r = 0; n = a[r++];) s.push(n.exports);
                                i(s)
                            }
                        }, l = 0, h = o; h > l;) {
                        if (r = e[l++], "string" == typeof r) {
                            if (!d[r]) return void i(null, s(r, t));
                            c = d[r].decl
                        } else c = r;
                        a.push(c), x(c, n, u)
                    }
                },
                x = function(e, i, o) {
                    if (e.state === n.RESOLVED) return void o(e.exports);
                    if (e.state === n.IN_RESOLVING) return void(h.trackCircularDependencies && u(e, i) ? o(null, r(e, i)) : e.dependents.push(o));
                    if (e.dependents.push(o), e.prev && !h.allowMultipleDeclarations) return void I(e, a(e));
                    h.trackCircularDependencies && (i = i.slice()).push(e);
                    var s = !1,
                        l = e.prev ? e.deps.concat([e.prev]) : e.deps;
                    e.state = n.IN_RESOLVING, M(e, l, i, function(n, i) {
                        return i ? void I(e, i) : (n.unshift(function(t, n) {
                            return s ? void o(null, c(e)) : (s = !0, void(n ? I(e, n) : P(e, t)))
                        }), void e.fn.apply({
                            name: e.name,
                            deps: e.deps,
                            global: t
                        }, n))
                    })
                },
                P = function(t, i) {
                    t.exports = i, t.state = n.RESOLVED;
                    for (var o, s = 0; o = t.dependents[s++];) o(i);
                    t.dependents = e
                },
                I = function(t, e) {
                    t.state = n.NOT_RESOLVED;
                    for (var i, o = 0; i = t.dependents[o++];) i(null, e);
                    t.dependents = []
                };
            return {
                create: i,
                define: p,
                require: _,
                getState: v,
                isDefined: b,
                setOptions: g,
                getStat: y
            }
        },
        o = function(t) {
            l(function() {
                throw t
            })
        },
        s = function(t, e) {
            return Error(e ? 'Module "' + e.name + '": can\'t resolve dependence "' + t + '"' : 'Required module "' + t + "\" can't be resolved")
        },
        r = function(t, e) {
            for (var n, i = [], o = 0; n = e[o++];) i.push(n.name);
            return i.push(t.name), Error('Circular dependence has been detected: "' + i.join(" -> ") + '"')
        },
        c = function(t) {
            return Error('Declaration of module "' + t.name + '" has already been provided')
        },
        a = function(t) {
            return Error('Multiple declarations of module "' + t.name + '" have been detected')
        },
        u = function(t, e) {
            for (var n, i = 0; n = e[i++];)
                if (t === n) return !0;
            return !1
        },
        l = function() {
            var e = [],
                n = function(t) {
                    return 1 === e.push(t)
                },
                i = function() {
                    var t = e,
                        n = 0,
                        i = e.length;
                    for (e = []; i > n;) t[n++]()
                };
            if ("object" == typeof process && process.nextTick) return function(t) {
                n(t) && process.nextTick(i)
            };
            if (t.setImmediate) return function(e) {
                n(e) && t.setImmediate(i)
            };
            if (t.postMessage && !t.opera) {
                var o = !0;
                if (t.attachEvent) {
                    var s = function() {
                        o = !1
                    };
                    t.attachEvent("onmessage", s), t.postMessage("__checkAsync", "*"), t.detachEvent("onmessage", s)
                }
                if (o) {
                    var r = "__modules" + +new Date,
                        c = function(t) {
                            t.data === r && (t.stopPropagation && t.stopPropagation(), i())
                        };
                    return t.addEventListener ? t.addEventListener("message", c, !0) : t.attachEvent("onmessage", c),
                        function(e) {
                            n(e) && t.postMessage(r, "*")
                        }
                }
            }
            var a = t.document;
            if ("onreadystatechange" in a.createElement("script")) {
                var u = a.getElementsByTagName("head")[0],
                    l = function() {
                        var t = a.createElement("script");
                        t.onreadystatechange = function() {
                            t.parentNode.removeChild(t), t = t.onreadystatechange = null, i()
                        }, u.appendChild(t)
                    };
                return function(t) {
                    n(t) && l()
                }
            }
            return function(t) {
                n(t) && setTimeout(i, 0)
            }
        }();
    "object" == typeof exports ? module.exports = i() : t.modules = i()
}("undefined" != typeof window ? window : global), "undefined" != typeof module && (modules = module.exports),
    function(t) {
        var e = function() {
            function t() {
                this._lastMatchId = 0, this._matchers = [], this._infiniteLoopDetection = !1, this.lib = {}, this._shortTags = {};
                for (var t = 0; t < n.length; t++) this._shortTags[n[t]] = 1;
                this._options = {}, this._optJsAttrName = "onclick", this._optJsAttrIsJs = !0, this._optJsCls = "i-bem", this._optJsElem = !0, this._optEscapeContent = !1, this._optNobaseMods = !1, this._optDelimElem = "__", this._optDelimMod = "_", this.utils = {
                    _expandoId: (new Date).getTime(),
                    bh: this,
                    isSimple: function(t) {
                        if (!t || t === !0) return !0;
                        var e = typeof t;
                        return "string" === e || "number" === e
                    },
                    extend: function(t) {
                        t && "object" == typeof t || (t = {});
                        for (var e = 1, n = arguments.length; n > e; e++) {
                            var i, o = arguments[e];
                            if (o)
                                for (i in o) t[i] = o[i]
                        }
                        return t
                    },
                    position: function() {
                        var t = this.node;
                        return "content" === t.index ? 1 : t.position
                    },
                    isFirst: function() {
                        var t = this.node;
                        return "content" === t.index || 1 === t.position
                    },
                    isLast: function() {
                        var t = this.node;
                        return "content" === t.index || t.position === t.arr._listLength
                    },
                    tParam: function(t, e, n) {
                        var i = "__tp_" + t,
                            o = this.node;
                        if (arguments.length > 1) return (n || !o.hasOwnProperty(i)) && (o[i] = e), this;
                        for (; o;) {
                            if (o.hasOwnProperty(i)) return o[i];
                            o = o.parentNode
                        }
                        return void 0
                    },
                    process: function(t) {
                        var e = this.ctx,
                            n = this.node,
                            i = this.bh.processBemJson(t, e.block);
                        return this.ctx = e, this.node = n, i
                    },
                    applyBase: function() {
                        var t = this.node,
                            e = t.json,
                            n = e.block,
                            i = e.mods,
                            o = this.bh._fastMatcher(this, e);
                        return void 0 !== o && (this.ctx = t.arr[t.index] = t.json = o, t.block = n, t.mods = i), this
                    },
                    stop: function() {
                        return this.ctx._stop = !0, this
                    },
                    generateId: function() {
                        return "uniq" + this._expandoId + ++e
                    },
                    mod: function(t, e, n) {
                        var i = this.ctx.elem ? "elemMods" : "mods";
                        if (arguments.length > 1) {
                            var o = this.ctx[i];
                            return o[t] = !o.hasOwnProperty(t) || n ? e : o[t], this
                        }
                        return this.ctx[i][t]
                    },
                    mods: function(t, e) {
                        var n = this.ctx.elem ? "elemMods" : "mods",
                            i = this.ctx[n];
                        return void 0 !== t ? (this.ctx[n] = e ? this.extend(i, t) : this.extend(t, i), this) : i
                    },
                    tag: function(t, e) {
                        return void 0 === t ? this.ctx.tag : ((e || void 0 === this.ctx.tag) && (this.ctx.tag = t), this)
                    },
                    mix: function(t, e) {
                        return void 0 === t ? this.ctx.mix : (this.ctx.mix = e || !this.ctx.mix ? t : (Array.isArray(this.ctx.mix) ? this.ctx.mix : [this.ctx.mix]).concat(t), this)
                    },
                    attr: function(t, e, n) {
                        var i;
                        return arguments.length > 1 ? (i = this.ctx.attrs || (this.ctx.attrs = {}), i[t] = !i.hasOwnProperty(t) || n ? e : i[t], this) : (i = this.ctx.attrs, i ? i[t] : void 0)
                    },
                    attrs: function(t, e) {
                        var n = this.ctx.attrs || {};
                        return void 0 === t ? n : (this.ctx.attrs = e ? this.extend(n, t) : this.extend(t, n), this)
                    },
                    bem: function(t, e) {
                        return void 0 === t ? this.ctx.bem : ((e || void 0 === this.ctx.bem) && (this.ctx.bem = t), this)
                    },
                    js: function(t, e) {
                        var n = this.ctx;
                        return void 0 === t ? n.js : (e || void 0 === n.js ? n.js = t : n.js !== !1 && (n.js = this.extend(n.js, t)), this)
                    },
                    cls: function(t, e) {
                        return void 0 === t ? this.ctx.cls : ((e || void 0 === this.ctx.cls) && (this.ctx.cls = t), this)
                    },
                    param: function(t, e, n) {
                        return void 0 === e ? this.ctx[t] : ((n || void 0 === this.ctx[t]) && (this.ctx[t] = e), this)
                    },
                    content: function(t, e) {
                        return void 0 === t ? this.ctx.content : ((e || void 0 === this.ctx.content) && (this.ctx.content = t), this)
                    },
                    html: function(t, e) {
                        return void 0 === t ? this.ctx.html : ((e || void 0 === this.ctx.html) && (this.ctx.html = t), this)
                    },
                    json: function() {
                        return this.ctx
                    }
                }
            }
            var e = 0;
            t.prototype = {
                setOptions: function(t) {
                    var e;
                    for (e in t) this._options[e] = t[e];
                    if (t.jsAttrName && (this._optJsAttrName = t.jsAttrName), t.jsAttrScheme && (this._optJsAttrIsJs = "js" === t.jsAttrScheme), void 0 !== t.jsCls && (this._optJsCls = t.jsCls), t.hasOwnProperty("jsElem") && (this._optJsElem = t.jsElem), t.clsNobaseMods && (this._optNobaseMods = !0), t.escapeContent && (this._optEscapeContent = t.escapeContent), t.delimElem && (this._optDelimElem = t.delimElem), t.delimMod && (this._optDelimMod = t.delimMod), t.shortTags)
                        for (var n = 0; n < t.shortTags.length; n++) this._shortTags[t.shortTags[n]] = 1;
                    return this
                },
                getOptions: function() {
                    return this._options
                },
                enableInfiniteLoopDetection: function(t) {
                    return this._infiniteLoopDetection = t, this
                },
                apply: function(t) {
                    return this.toHtml(this.processBemJson(t))
                },
                match: function(t, e) {
                    if (!t) return this;
                    if (Array.isArray(t)) return t.forEach(function(n, i) {
                        this.match(t[i], e)
                    }, this), this;
                    if ("object" == typeof t) {
                        for (var n in t) this.match(n, t[n]);
                        return this
                    }
                    return e.__id = "__func" + this._lastMatchId++, this._matchers.push([t, e]), this._fastMatcher = null, this
                },
                beforeEach: function(t) {
                    return this.match("$before", t)
                },
                afterEach: function(t) {
                    return this.match("$after", t)
                },
                buildMatcher: function() {
                    function t(t, e) {
                        for (var n = {}, i = 0, o = t.length; o > i; i++) {
                            var s = t[i],
                                r = s[e] || "__no_value__";
                            (n[r] || (n[r] = [])).push(s)
                        }
                        return n
                    }

                    function e(t, e, n) {
                        t.push("json." + e + " = true;", "subRes = _m" + n + "(ctx, json);", 'if (subRes !== undefined) return (subRes || "");', "if (json._stop) return;")
                    }
                    var n, i, o, s, r, c, a, u, l = [],
                        h = ["bh = this"],
                        d = this._matchers,
                        f = [];
                    for (n = d.length - 1; n >= 0; n--) c = d[n], r = c[0], h.push("_m" + n + " = ms[" + n + "][1]"), s = {
                        fn: c[1],
                        index: n
                    }, ~r.indexOf(this._optDelimElem) ? (a = r.split(this._optDelimElem), u = a[0].split(this._optDelimMod), s.block = u[0], u.length > 1 && (s.blockMod = u[1], s.blockModVal = u[2] || !0), a = a[1].split(this._optDelimMod), s.elem = a[0], a.length > 1 && (s.elemMod = a[1], s.elemModVal = a[2] || !0)) : (a = r.split(this._optDelimMod), s.block = a[0], a.length > 1 && (s.blockMod = a[1], s.blockModVal = a[2] || !0)), f.push(s);
                    var m = t(f, "block"),
                        p = m.$before,
                        _ = m.$after;
                    if (_ && delete m.$after, l.push("var " + h.join(", ") + ";", "function applyMatchers(ctx, json) {", "var subRes;"), p)
                        for (delete m.$before, i = 0, o = p.length; o > i; i++) s = p[i], e(l, s.fn.__id, s.index);
                    l.push("switch (json.block) {");
                    for (var v in m) {
                        l.push('case "' + v + '":');
                        var b = t(m[v], "elem");
                        l.push("switch (json.elem) {");
                        for (var g in b) {
                            l.push("__no_value__" === g ? "case undefined:" : 'case "' + g + '":');
                            var y = b[g];
                            for (i = 0, o = y.length; o > i; i++) {
                                s = y[i];
                                var E = s.fn,
                                    k = [];
                                k.push("!json." + E.__id), s.elemMod && k.push('json.elemMods && json.elemMods["' + s.elemMod + '"] === ' + (s.elemModVal === !0 || '"' + s.elemModVal + '"')), s.blockMod && k.push('json.mods && json.mods["' + s.blockMod + '"] === ' + (s.blockModVal === !0 || '"' + s.blockModVal + '"')), l.push("if (" + k.join(" && ") + ") {"), e(l, E.__id, s.index), l.push("}")
                            }
                            l.push("break;")
                        }
                        l.push("}", "break;")
                    }
                    if (l.push("}"), _)
                        for (i = 0, o = _.length; o > i; i++) s = _[i], e(l, s.fn.__id, s.index);
                    return l.push("};", "return applyMatchers;"), l.join("\n")
                },
                processBemJson: function(t, e, n) {
                    function i() {
                        this.ctx = null
                    }
                    if (null != t) {
                        var o, s, r, c, a, u, l, h, d, f, m = [t],
                            p = [{
                                json: t,
                                arr: m,
                                index: 0,
                                block: e,
                                mods: null
                            }],
                            _ = this._fastMatcher || (this._fastMatcher = Function("ms", this.buildMatcher())(this._matchers)),
                            v = !n,
                            b = this._infiniteLoopDetection;
                        i.prototype = this.utils;
                        for (var g = new i; o = p.shift();) {
                            if (s = o.json, r = o.block, c = o.mods, Array.isArray(s)) {
                                for (a = 0, u = 0, l = s.length; l > a; a++) d = s[a], d !== !1 && null != d && "object" == typeof d && p.push({
                                    json: d,
                                    arr: s,
                                    index: a,
                                    position: ++u,
                                    block: r,
                                    mods: c,
                                    parentNode: o
                                });
                                s._listLength = u
                            } else {
                                var y, E = !1;
                                if (s.elem ? (r = s.block = s.block || r, s.elemMods || (s.elemMods = s.mods || {}, s.mods = null), c = s.mods = s.mods || c) : s.block && (r = s.block, c = s.mods = s.mods || {}), "object" == typeof s) {
                                    if (b) {
                                        if (s.__processCounter = (s.__processCounter || 0) + 1, _.__processCounter = (_.__processCounter || 0) + 1, s.__processCounter > 100) throw new Error('Infinite json loop detected at "' + s.block + (s.elem ? this._optDelimElem + s.elem : "") + '".');
                                        if (_.__processCounter > 1e3) throw new Error('Infinite matcher loop detected at "' + s.block + (s.elem ? this._optDelimElem + s.elem : "") + '".')
                                    }
                                    f = void 0, s._stop || (g.node = o, g.ctx = s, f = _(g, s), void 0 !== f && (s = f, o.json = s, o.block = r, o.mods = c, p.push(o), E = !0))
                                }
                                if (!E && v && (y = s.content))
                                    if (Array.isArray(y)) {
                                        var k;
                                        do {
                                            for (k = !1, a = 0, l = y.length; l > a; a++)
                                                if (Array.isArray(y[a])) {
                                                    k = !0;
                                                    break
                                                }
                                            k && (s.content = y = y.concat.apply([], y))
                                        } while (k);
                                        for (a = 0, u = 0, l = y.length, h = l - 1; l > a; a++) d = y[a], d !== !1 && null != d && "object" == typeof d && p.push({
                                            json: d,
                                            arr: y,
                                            index: a,
                                            position: ++u,
                                            block: r,
                                            mods: c,
                                            parentNode: o
                                        });
                                        y._listLength = u
                                    } else p.push({
                                        json: y,
                                        arr: s,
                                        index: "content",
                                        block: r,
                                        mods: c,
                                        parentNode: o
                                    })
                            }
                            o.arr[o.index] = s
                        }
                        return m[0]
                    }
                },
                toHtml: function(t) {
                    this._buf = "", this._html(t);
                    var e = this._buf;
                    return delete this._buf, e
                },
                _html: function(t) {
                    var e, n, c;
                    if (t !== !1 && null != t)
                        if ("object" != typeof t) this._buf += this._optEscapeContent ? i(t) : t;
                        else if (Array.isArray(t))
                        for (e = 0, n = t.length; n > e; e++) c = t[e], c !== !1 && null != c && this._html(c);
                    else {
                        if (t.toHtml) {
                            var a = t.toHtml.call(this, t) || "";
                            return void(this._buf += a)
                        }
                        var u = t.bem !== !1;
                        if ("undefined" != typeof t.tag && !t.tag) return void(t.html ? this._buf += t.html : this._html(t.content));
                        t.mix && !Array.isArray(t.mix) && (t.mix = [t.mix]);
                        var l, h, d, f = "",
                            m = "",
                            p = !1;
                        if (l = t.attrs)
                            for (e in l) h = l[e], h === !0 ? m += " " + e : h !== !1 && null !== h && void 0 !== h && (m += " " + e + '="' + o(h) + '"');
                        if (u) {
                            var _ = t.block + (t.elem ? this._optDelimElem + t.elem : "");
                            t.block && (f = r(t, _, null, this._optNobaseMods, this._optDelimMod), t.js && ((d = {})[_] = t.js === !0 ? {} : t.js));
                            var v = this._optJsCls && (this._optJsElem || !t.elem),
                                b = t.mix;
                            if (b && b.length)
                                for (e = 0, n = b.length; n > e; e++) {
                                    var g = b[e];
                                    if (g && g.bem !== !1) {
                                        var y = g.block || t.block || "",
                                            E = g.elem || (g.block ? null : t.block && t.elem),
                                            k = y + (E ? this._optDelimElem + E : "");
                                        y && (f += r(g, k, _, this._optNobaseMods, this._optDelimMod), g.js && ((d = d || {})[k] = g.js === !0 ? {} : g.js, p = !0, v || (v = y && this._optJsCls && (this._optJsElem || !E))))
                                    }
                                }
                            if (d) {
                                v && (f += " " + this._optJsCls);
                                var M = p || t.js !== !0 ? s(JSON.stringify(d)) : '{"' + _ + '":{}}';
                                m += " " + (t.jsAttr || this._optJsAttrName) + "='" + (this._optJsAttrIsJs ? "return " + M : M) + "'"
                            }
                        }
                        t.cls && (f = (f ? f + " " : "") + o(t.cls).trim());
                        var x = t.tag || "div";
                        this._buf += "<" + x + (f ? ' class="' + f + '"' : "") + (m ? m : ""), this._shortTags[x] ? this._buf += "/>" : (this._buf += ">", t.html ? this._buf += t.html : this._html(t.content), this._buf += "</" + x + ">")
                    }
                }
            };
            var n = "area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),
                i = t.prototype.xmlEscape = function(t) {
                    return (t + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                },
                o = t.prototype.attrEscape = function(t) {
                    return (t + "").replace(/&/g, "&amp;").replace(/"/g, "&quot;")
                },
                s = t.prototype.jsAttrEscape = function(t) {
                    return (t + "").replace(/&/g, "&amp;").replace(/'/g, "&#39;")
                },
                r = function(t, e, n, i, o) {
                    var s, r, c, a = "";
                    if (n !== e && (n && (a += " "), a += e), s = t.elem && t.elemMods || t.mods)
                        for (c in s) r = s[c], (r || 0 === r) && (a += " " + (i ? o : e + o) + c + (r === !0 ? "" : o + r));
                    return a
                };
            return t
        }();
        "undefined" != typeof module && (module.exports = e);
        var n = new e;
        n.setOptions({
            jsAttrName: "data-bem",
            jsAttrScheme: "json"
        });
        var i = function() {
                ! function() {
                    n.match("header", function(t, e) {
                        t.content([{
                            elem: "content",
                            tag: e.level ? "h" + e.level : "h1",
                            content: e.content
                        }, e.subcontent && {
                            elem: "subcontent",
                            tag: "span",
                            content: e.subcontent
                        }], !0)
                    })
                }(),
                function() {
                    n.match("ua", function(t) {
                        t.bem(!1).tag("script").content(["(function(e,c){", 'e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");', '})(document.documentElement,"className");'], !0)
                    })
                }(),
                function() {
                    n.match("button__text", function(t) {
                        t.tag("span")
                    })
                }(),
                function() {
                    n.match("select", function(t, e) {
                        function n(t) {
                            return s && (r ? e.val.indexOf(t) > -1 : e.val === t)
                        }

                        function i(t) {
                            for (var e, s = 0; e = t[s++];) e.group ? i(e.group) : (o || (o = e), n(e.val) && (e.checked = !0, c.push(e)))
                        }
                        if (!t.mod("mode")) throw Error("Can't build select without mode modifier");
                        var o, s = "undefined" != typeof e.val,
                            r = "check" === t.mod("mode"),
                            c = [];
                        i(e.options), t.js({
                            name: e.name,
                            optionsMaxHeight: e.optionsMaxHeight
                        }).tParam("select", e).tParam("firstOption", o).tParam("checkedOptions", c).content([{
                            elem: "button"
                        }, {
                            block: "popup",
                            mods: {
                                target: "anchor",
                                theme: t.mod("theme"),
                                autoclosable: !0
                            },
                            directions: ["bottom-left", "bottom-right", "top-left", "top-right"],
                            content: {
                                block: e.block,
                                mods: t.mods(),
                                elem: "menu"
                            }
                        }])
                    })
                }(),
                function() {
                    n.match("select", function(t, e) {
                        t.tag("select"), t.content(e.options && e.options.map(function(t) {
                            return {
                                elem: "option",
                                tag: "option",
                                attrs: {
                                    label: t.text,
                                    value: t.val,
                                    selected: t.selected && "selected"
                                },
                                content: t.text
                            }
                        }), !0), t.stop()
                    })
                }(),
                function() {
                    n.match("select_focused", function(t) {
                        t.applyBase().extend(t.js(), {
                            live: !1
                        })
                    })
                }(),
                function() {
                    n.match("select__control", function(t, e) {
                        var n = e.blockMods || e.mods;
                        t.tag("input").attrs({
                            type: "hidden",
                            name: t.tParam("select").name,
                            value: e.val,
                            disabled: n.disabled ? "disabled" : void 0
                        })
                    })
                }(),
                function() {
                    n.match("select__button", function(t, e) {
                        var n = e.blockMods || e.mods,
                            i = t.tParam("select"),
                            o = t.tParam("checkedOptions");
                        return {
                            block: "button",
                            mix: {
                                block: e.block,
                                elem: e.elem
                            },
                            mods: {
                                size: n.size,
                                theme: n.theme,
                                view: n.view,
                                focused: n.focused,
                                disabled: n.disabled,
                                checked: "radio" !== n.mode && !!o.length
                            },
                            id: i.id,
                            tabIndex: i.tabIndex,
                            content: [t.content(), {
                                block: "icon",
                                mix: {
                                    block: "select",
                                    elem: "tick"
                                }
                            }]
                        }
                    })
                }(),
                function() {
                    n.match("select__menu", function(t, e) {
                        var n = t.mods(),
                            i = t.tParam("select"),
                            o = function(t) {
                                var e = {
                                    block: "menu-item",
                                    mods: {
                                        disabled: n.disabled || t.disabled
                                    },
                                    val: t.val,
                                    js: {
                                        checkedText: t.checkedText
                                    },
                                    content: t.text
                                };
                                return t.icon && (e.js.text = t.text, e.content = [t.icon, e.content]), e
                            };
                        return {
                            block: "menu",
                            mix: {
                                block: e.block,
                                elem: e.elem
                            },
                            mods: {
                                size: n.size,
                                theme: n.theme,
                                disabled: n.disabled,
                                mode: n.mode
                            },
                            val: i.val,
                            attrs: {
                                tabindex: null
                            },
                            content: i.options.map(function(t) {
                                return t.group ? {
                                    elem: "group",
                                    title: t.title,
                                    content: t.group.map(o)
                                } : o(t)
                            })
                        }
                    })
                }(),
                function() {
                    n.match("menu", function(t, e) {
                        var n = {
                            theme: t.mod("theme"),
                            disabled: t.mod("disabled")
                        };
                        t.js(!0).tParam("menuMods", n).mix({
                            elem: "control"
                        });
                        var i = {
                            role: "menu"
                        };
                        t.mod("disabled") || (i.tabindex = 0), t.attrs(i);
                        var o, s = [];
                        if (e.content) {
                            var r = "undefined" != typeof e.val,
                                c = "check" === t.mod("mode"),
                                a = function(t) {
                                    return r && (c ? e.val.indexOf(t) > -1 : e.val === t)
                                },
                                u = function(t) {
                                    for (var e, n = 0; e = t[n++];) "menu-item" === e.block ? (o || (o = e), a(e.val) && ((e.mods = e.mods || {}).checked = !0, s.push(e))) : e.content && u(e.content)
                                };
                            if (!Array.isArray(e.content)) throw Error("menu: content must be an array of the menu items");
                            u(e.content)
                        }
                        t.tParam("firstItem", o).tParam("checkedItems", s)
                    })
                }(),
                function() {
                    n.match("menu", function(t, e) {
                        t.tag("ul"), t.content(e.list && e.list.map(function(t) {
                            return {
                                elem: "item",
                                tag: "li",
                                content: [{
                                    block: "link",
                                    mix: [{
                                        block: "menu",
                                        elem: "link"
                                    }, t.list && {
                                        block: "menu",
                                        elem: "link",
                                        mods: {
                                            parent: !0
                                        }
                                    }],
                                    url: t.url,
                                    content: t.title
                                }, t.list && {
                                    elem: "list",
                                    tag: "ul",
                                    content: t.list.map(function(t) {
                                        return {
                                            tag: "li",
                                            content: {
                                                block: "link",
                                                mix: {
                                                    block: "menu",
                                                    elem: "link"
                                                },
                                                url: t.url,
                                                content: t.title
                                            }
                                        }
                                    })
                                }]
                            }
                        }), !0)
                    })
                }(),
                function() {
                    n.match("menu-item", function(t, e) {
                        var n = t.tParam("menuMods");
                        n && t.mods({
                            theme: n.theme,
                            disabled: n.disabled
                        }), t.js({
                            val: e.val
                        }).attr("role", "menuitem")
                    })
                }(),
                function() {
                    n.match("menu_focused", function(t) {
                        var e = t.extend(t.js() || {}, {
                            live: !1
                        });
                        t.js(e)
                    })
                }(),
                function() {
                    n.match("menu__group", function(t, e) {
                        t.attr("role", "group");
                        var n = e.title;
                        "undefined" != typeof n && t.attr("aria-label", n, !0).content([{
                            elem: "group-title",
                            content: n
                        }, t.content()], !0)
                    })
                }(),
                function() {
                    n.match("menu__group-title", function(t) {
                        t.attr("role", "presentation")
                    })
                }(),
                function() {
                    n.match("popup", function(t, e) {
                        t.js({
                            mainOffset: e.mainOffset,
                            secondaryOffset: e.secondaryOffset,
                            viewportOffset: e.viewportOffset,
                            directions: e.directions,
                            zIndexGroupLevel: e.zIndexGroupLevel
                        })
                    })
                }(),
                function() {
                    n.match("modal", function(t, e) {
                        t.js(!0).mix({
                            block: "popup",
                            js: {
                                zIndexGroupLevel: e.zIndexGroupLevel || 20
                            },
                            mods: {
                                autoclosable: t.mod("autoclosable")
                            }
                        }).content({
                            elem: "table",
                            content: {
                                elem: "cell",
                                content: {
                                    elem: "content",
                                    content: t.content()
                                }
                            }
                        }, !0)
                    })
                }(),
                function() {
                    n.match("button", function(t, e) {
                        t.tag(e.tag || "button");
                        var n = t.mod("type"),
                            i = "button" === t.tag() && (!n || "submit" === n);
                        t.tParam("_button", e).js(!0).attrs({
                            role: "button",
                            tabindex: e.tabIndex,
                            id: e.id,
                            type: i ? n || "button" : void 0,
                            name: e.name,
                            value: e.val,
                            title: e.title
                        }).mix({
                            elem: "control"
                        }), t.mod("disabled") && (i ? t.attr("disabled", "disabled") : t.attr("aria-disabled", "true"));
                        var o = t.content();
                        "undefined" == typeof o && (o = [e.icon], "text" in e && o.push({
                            elem: "text",
                            content: e.text
                        }), t.content(o))
                    })
                }(),
                function() {
                    n.match("button_focused", function(t, e) {
                        t.js(t.extend(e.js, {
                            live: !1
                        }), !0)
                    })
                }(),
                function() {
                    n.match("appointment", function(t) {
                        t.tag(""), t.content({
                            block: "modal",
                            mix: {
                                block: "appointment"
                            },
                            mods: {
                                autoclosable: !0
                            },
                            content: [{
                                block: "button",
                                mods: {
                                    action: "close"
                                },
                                mix: {
                                    block: "appointment",
                                    elem: "close"
                                }
                            }, {
                                block: "form",
                                mix: {
                                    block: "appointment",
                                    elem: "form"
                                },
                                tag: "form",
                                attrs: {
                                    action: "/services/",
                                    method: "post"
                                },
                                content: [{
                                    block: "header",
                                    mix: {
                                        block: "appointment",
                                        elem: "header"
                                    },
                                    level: "2",
                                    content: "Запись на прием",
                                    subcontent: "(Заполните, пожалуйста все поля)"
                                }, {
                                    elem: "label",
                                    tag: "label",
                                    content: "ФИО"
                                }, {
                                    elem: "name",
                                    mix: {
                                        block: "appointment",
                                        elem: "name"
                                    },
                                    tag: "input",
                                    attrs: {
                                        name: "name",
                                        required: "required"
                                    }
                                }, {
                                    elem: "label",
                                    tag: "label",
                                    content: "Телефон"
                                }, {
                                    elem: "phone",
                                    mix: {
                                        block: "appointment",
                                        elem: "phone"
                                    },
                                    tag: "input",
                                    attrs: {
                                        name: "phone",
                                        required: "required"
                                    }
                                }, {
                                    elem: "label",
                                    tag: "label",
                                    content: "Услуга"
                                }, {
                                    block: "select",
                                    mix: [{
                                        block: "appointment",
                                        elem: "service"
                                    }, {
                                        block: "form",
                                        elem: "service"
                                    }],
                                    attrs: {
                                        name: "service",
                                        required: "required"
                                    },
                                    options: [{
                                        selected: !0
                                    }, {
                                        val: "Лечение кариеса",
                                        text: "Лечение кариеса"
                                    }, {
                                        val: "Пародонтология",
                                        text: "Пародонтология"
                                    }, {
                                        val: "Имплантация зубов",
                                        text: "Имплантация зубов"
                                    }, {
                                        val: "Гигиена полости рта",
                                        text: "Гигиена полости рта"
                                    }, {
                                        val: "Отбеливание зубов",
                                        text: "Отбеливание зубов"
                                    }, {
                                        val: "Удаление зубов",
                                        text: "Удаление зубов"
                                    }, {
                                        val: "Протезирование зубов",
                                        text: "Протезирование зубов"
                                    }, {
                                        val: "Ортодонтия",
                                        text: "Ортодонтия"
                                    }, {
                                        val: "Консультация",
                                        text: "Консультация"
                                    }]
                                }, {
                                    elem: "label",
                                    tag: "label",
                                    content: "Время приема"
                                }, {
                                    block: "select",
                                    mix: [{
                                        block: "form",
                                        elem: "time"
                                    }, {
                                        block: "appointment",
                                        elem: "time"
                                    }],
                                    attrs: {
                                        name: "time",
                                        required: "required"
                                    },
                                    options: [{
                                        selected: !0
                                    }, {
                                        val: "Утро",
                                        text: "Утро"
                                    }, {
                                        val: "День",
                                        text: "День"
                                    }, {
                                        val: "Вечер",
                                        text: "Вечер"
                                    }, {
                                        val: "Любое время",
                                        text: "Любое время"
                                    }]
                                }, {
                                    elem: "submit",
                                    tag: "input",
                                    attrs: {
                                        type: "submit",
                                        value: "Отправить"
                                    }
                                }]
                            }]
                        }, !0)
                    })
                }()
            },
            o = !0;
        "object" == typeof modules ? (modules.define("BH", [], function(t) {
            i(), t(n)
        }), modules.define("BEMHTML", ["BH"], function(t) {
            t(n)
        }), o = !1) : "object" == typeof exports && (i(), n.BEMHTML = n, module.exports = n, o = !1), o && (i(), t.BH = n, t.BEMHTML = n)
    }(this), modules.define("i-bem", ["i-bem__internal", "inherit", "identify", "next-tick", "objects", "functions", "events"], function(t, e, n, i, o, s, r, c) {
        function a(t, e, n, i) {
            return "__" + t + (i ? "__elem_" + i : "") + "__mod" + (e ? "_" + e : "") + (n ? "_" + n : "")
        }

        function u(t, e, n, i) {
            if (r.isFunction(e)) n[a(t, "*", "*", i)] = e;
            else {
                var o, s, c;
                for (o in e)
                    if (e.hasOwnProperty(o))
                        if (c = e[o], r.isFunction(c)) n[a(t, o, "*", i)] = c;
                        else
                            for (s in c) c.hasOwnProperty(s) && (n[a(t, o, s, i)] = c[s])
            }
        }

        function l(t, e) {
            return e ? Array.isArray(e) ? function(n) {
                for (var i = 0, o = e.length; o > i;)
                    if (n.hasMod(t, e[i++])) return !0;
                return !1
            } : function(n) {
                return n.hasMod(t, e)
            } : function(e) {
                return e.hasMod(t)
            }
        }

        function h(t) {
            t.beforeSetMod && (u("before", t.beforeSetMod, t), delete t.beforeSetMod), t.onSetMod && (u("after", t.onSetMod, t), delete t.onSetMod);
            var e;
            if (t.beforeElemSetMod) {
                for (e in t.beforeElemSetMod) t.beforeElemSetMod.hasOwnProperty(e) && u("before", t.beforeElemSetMod[e], t, e);
                delete t.beforeElemSetMod
            }
            if (t.onElemSetMod) {
                for (e in t.onElemSetMod) t.onElemSetMod.hasOwnProperty(e) && u("after", t.onElemSetMod[e], t, e);
                delete t.onElemSetMod
            }
        }
        var d, f = e.MOD_DELIM,
            m = e.ELEM_DELIM,
            p = [],
            _ = {},
            v = n(c.Emitter, {
                __constructor: function(t, e, n) {
                    this._modCache = t || {}, this._processingMods = {}, this.params = s.extend(this.getDefaultParams(), e), n !== !1 ? this._init() : p.push(this._init, this)
                },
                _init: function() {
                    return this.setMod("js", "inited")
                },
                on: function(t, e, n) {
                    return "object" == typeof t && (r.isFunction(e) || r.isFunction(n)) && (t = this.__self._buildModEventName(t)), this.__base.apply(this, arguments)
                },
                un: function(t, e) {
                    return "object" == typeof t && r.isFunction(e) && (t = this.__self._buildModEventName(t)), this.__base.apply(this, arguments)
                },
                emit: function(t, e) {
                    var n = !1;
                    return "object" != typeof t || t instanceof c.Event || (n = "js" === t.modName, t = this.__self._buildModEventName(t)), (n || this.hasMod("js", "inited")) && (this.__base(t = this._buildEvent(t), e), this._ctxEmit(t, e)), this
                },
                _ctxEmit: function(t, e) {
                    this.__self.emit(t, e)
                },
                _buildEvent: function(t) {
                    return "string" == typeof t ? t = new c.Event(t, this) : t.target || (t.target = this), t
                },
                hasMod: function(t, e, n) {
                    var i = arguments.length,
                        o = !1;
                    1 === i ? (n = "", e = t, t = d, o = !0) : 2 === i && ("string" == typeof t ? (n = e, e = t, t = d) : (n = "", o = !0));
                    var s = typeof n;
                    "string" === s || "boolean" === s || "undefined" === s || (n = n.toString());
                    var r = this.getMod(t, e) === n;
                    return o ? !r : r
                },
                getMod: function(t, e) {
                    var n = typeof t;
                    if ("string" === n || "undefined" === n) {
                        e = t || e;
                        var i = this._modCache;
                        return e in i ? i[e] || "" : i[e] = this._extractModVal(e)
                    }
                    return this._getElemMod(e, t)
                },
                _getElemMod: function(t, e, n) {
                    return this._extractModVal(t, e, n)
                },
                getMods: function(t) {
                    var e = t && "string" != typeof t,
                        n = [].slice.call(arguments, e ? 1 : 0),
                        i = this._extractMods(n, e ? t : d);
                    return e || (n.length ? n.forEach(function(t) {
                        this._modCache[t] = i[t]
                    }, this) : this._modCache = i), i
                },
                setMod: function(t, e, n) {
                    if ("undefined" == typeof n && ("string" == typeof t ? (n = "undefined" == typeof e ? !0 : e, e = t, t = d) : n = !0), !t || t[0]) {
                        n === !1 ? n = "" : "boolean" != typeof n && (n = n.toString());
                        var o = (t && t[0] ? i(t[0]) : "") + "_" + e;
                        if (this._processingMods[o]) return this;
                        var s, r = t ? this._getElemMod(e, t, s = this.__self._extractElemNameFrom(t)) : this.getMod(e);
                        if (r === n) return this;
                        this._processingMods[o] = !0;
                        var c = !0,
                            a = [e, n, r];
                        t && a.unshift(t);
                        for (var u, l, h, f = [
                                ["*", "*"],
                                [e, "*"],
                                [e, n]
                            ], m = ["before", "after"], p = 0; u = m[p++];) {
                            for (l = 0; h = f[l++];)
                                if (this._callModFn(u, s, h[0], h[1], a) === !1) {
                                    c = !1;
                                    break
                                }
                            if (!c) break;
                            "before" === u && (t || (this._modCache[e] = n), this._onSetMod(e, n, r, t, s))
                        }
                        this._processingMods[o] = null, c && this._emitModChangeEvents(e, n, r, t, s)
                    }
                    return this
                },
                _onSetMod: function() {},
                _emitModChangeEvents: function(t, e, n, i, o) {
                    var s = {
                        modName: t,
                        modVal: e,
                        oldModVal: n
                    };
                    i && (s.elem = i), this.emit({
                        modName: t,
                        modVal: "*",
                        elem: o
                    }, s).emit({
                        modName: t,
                        modVal: e,
                        elem: o
                    }, s)
                },
                toggleMod: function(t, e, n, i, o) {
                    "string" == typeof t && (o = i, i = n, n = e, e = t, t = d), "undefined" == typeof n && (n = !0), "undefined" == typeof i ? i = "" : "boolean" == typeof i && (o = i, i = "");
                    var s = this.getMod(t, e);
                    return (s === n || s === i) && this.setMod(t, e, "boolean" == typeof o ? o ? n : i : this.hasMod(t, e, n) ? i : n), this
                },
                delMod: function(t, e) {
                    return e || (e = t, t = d), this.setMod(t, e, "")
                },
                _callModFn: function(t, e, n, i, o) {
                    var s = a(t, n, i, e);
                    return this[s] ? this[s].apply(this, o) : d
                },
                _extractModVal: function() {
                    return ""
                },
                _extractMods: function() {
                    return {}
                },
                getDefaultParams: function() {
                    return {}
                },
                _destruct: function() {
                    this.delMod("js")
                },
                nextTick: function(t) {
                    var e = this;
                    return o(function() {
                        e.hasMod("js", "inited") && t.call(e)
                    }), this
                }
            }, {
                _name: "i-bem",
                blocks: _,
                decl: function(t, e, i) {
                    "string" == typeof t && (t = {
                        block: t
                    }), arguments.length <= 2 && "object" == typeof t && (!t || "string" != typeof t.block && "string" != typeof t.modName) && (i = e, e = t, t = {}), "undefined" == typeof t.block && (t.block = this.getName());
                    var o;
                    if ("undefined" == typeof t.baseBlock) o = _[t.block] || this;
                    else if ("string" == typeof t.baseBlock) {
                        if (o = _[t.baseBlock], !o) throw 'baseBlock "' + t.baseBlock + '" for "' + t.block + '" is undefined'
                    } else o = t.baseBlock;
                    if (h(e || (e = {})), t.modName) {
                        var c = l(t.modName, t.modVal);
                        s.each(e, function(t, n) {
                            r.isFunction(t) && (e[n] = function() {
                                var e;
                                if (c(this)) e = t;
                                else {
                                    var i = o.prototype[n];
                                    i && i !== t && (e = this.__base)
                                }
                                return e ? e.apply(this, arguments) : d
                            })
                        })
                    }
                    if (i && "boolean" == typeof i.live) {
                        var a = i.live;
                        i.live = function() {
                            return a
                        }
                    }
                    var u, f = o;
                    return t.baseMix && (f = [f], t.baseMix.forEach(function(e) {
                        if (!_[e]) throw 'mix block "' + e + '" for "' + t.block + '" is undefined';
                        f.push(_[e])
                    })), t.block === o.getName() ? (u = n.self(f, e, i))._processLive(!0) : ((u = _[t.block] = n(f, e, i))._name = t.block, delete u._liveInitable), u
                },
                declMix: function(t, e, i) {
                    return h(e || (e = {})), _[t] = n(e, i)
                },
                _processLive: function() {
                    return !1
                },
                create: function(t, e) {
                    return "string" == typeof t && (t = {
                        block: t
                    }), new _[t.block](t.mods, e)
                },
                getName: function() {
                    return this._name
                },
                on: function(t, e, n) {
                    return "object" == typeof t && (r.isFunction(e) || r.isFunction(n)) && (t = this._buildModEventName(t)), this.__base.apply(this, arguments)
                },
                un: function(t, e) {
                    return "object" == typeof t && r.isFunction(e) && (t = this._buildModEventName(t)), this.__base.apply(this, arguments)
                },
                _buildModEventName: function(t) {
                    var e = f + t.modName + f + (t.modVal === !1 ? "" : t.modVal);
                    return t.elem && (e = m + t.elem + e), e
                },
                _extractElemNameFrom: function() {},
                _runInitFns: function() {
                    if (p.length) {
                        var t, e = p,
                            n = 0;
                        for (p = []; t = e[n];) t.call(e[n + 1]), n += 2
                    }
                }
            });
        t(v)
    }), modules.define("i-bem__internal", function(t) {
        function e(t) {
            var e = typeof t;
            return "string" === e || "number" === e || "boolean" === e
        }

        function n(t, e) {
            var n = "";
            return null != e && e !== !1 && (n += r + t, e !== !0 && (n += r + e)), n
        }

        function i(t, e, i) {
            return t + n(e, i)
        }

        function o(t, e, o, r) {
            return i(t, s, s) + c + e + n(o, r)
        }
        var s, r = "_",
            c = "__",
            a = "[a-zA-Z0-9-]+";
        t({
            NAME_PATTERN: a,
            MOD_DELIM: r,
            ELEM_DELIM: c,
            buildModPostfix: n,
            buildClass: function(t, n, r, c) {
                return e(r) ? e(c) || (c = r, r = n, n = s) : "undefined" != typeof r ? r = s : n && "string" != typeof n && (n = s), n || r ? n ? o(t, n, r, c) : i(t, r, c) : t
            },
            buildClasses: function(t, e, n) {
                e && "string" != typeof e && (n = e, e = s);
                var r = e ? o(t, e, s, s) : i(t, s, s);
                if (n)
                    for (var c in n) n.hasOwnProperty(c) && n[c] && (r += " " + (e ? o(t, e, c, n[c]) : i(t, c, n[c])));
                return r
            }
        })
    }),
    function(t) {
        function e(t) {
            var e = u(t);
            if (p)
                for (var n, i = 0; n = b[i++];) t.hasOwnProperty(n) && e.push(n);
            return e
        }

        function n(t, n, i) {
            for (var o, r, c = e(i), a = 0, u = c.length; u > a;) "__self" !== (o = c[a++]) && (r = i[o], n[o] = f(r) && (!s || r.toString().indexOf(".__base") > -1) ? function(e, i) {
                var o = t[e] ? t[e] : "__constructor" === e ? n.__self.__parent : m;
                return function() {
                    var t = this.__base;
                    this.__base = o;
                    var e = i.apply(this, arguments);
                    return this.__base = t, e
                }
            }(o, r) : r)
        }

        function i(t, e) {
            for (var n, i = 1; n = t[i++];) e ? f(n) ? o.self(e, n.prototype, n) : o.self(e, n) : e = f(n) ? o(t[0], n.prototype, n) : o(t[0], n);
            return e || t[0]
        }

        function o() {
            var t = arguments,
                e = d(t[0]),
                o = e || f(t[0]),
                s = o ? e ? i(t[0]) : t[0] : r,
                c = t[o ? 1 : 0] || {},
                u = t[o ? 2 : 1],
                h = c.__constructor || o && s.prototype.__constructor ? function() {
                    return this.__constructor.apply(this, arguments)
                } : o ? function() {
                    return s.apply(this, arguments)
                } : function() {};
            if (!o) return h.prototype = c, h.prototype.__self = h.prototype.constructor = h, l(h, u);
            l(h, s), h.__parent = s;
            var m = s.prototype,
                p = h.prototype = a(m);
            return p.__self = p.constructor = h, c && n(m, p, c), u && n(s, h, u), h
        }
        var s = function() {
                "_"
            }.toString().indexOf("_") > -1,
            r = function() {},
            c = Object.prototype.hasOwnProperty,
            a = Object.create || function(t) {
                var e = function() {};
                return e.prototype = t, new e
            },
            u = Object.keys || function(t) {
                var e = [];
                for (var n in t) c.call(t, n) && e.push(n);
                return e
            },
            l = function(t, e) {
                for (var n in e) c.call(e, n) && (t[n] = e[n]);
                return t
            },
            h = Object.prototype.toString,
            d = Array.isArray || function(t) {
                return "[object Array]" === h.call(t)
            },
            f = function(t) {
                return "[object Function]" === h.call(t)
            },
            m = function() {},
            p = !0,
            _ = {
                toString: ""
            };
        for (var v in _) _.hasOwnProperty(v) && (p = !1);
        var b = p ? ["toString", "valueOf"] : null;
        o.self = function() {
            var t = arguments,
                e = d(t[0]),
                o = e ? i(t[0], t[0][0]) : t[0],
                s = t[1],
                r = t[2],
                c = o.prototype;
            return s && n(c, c, s), r && n(o, o, r), o
        };
        var g = !0;
        "object" == typeof exports && (module.exports = o, g = !1), "object" == typeof modules && (modules.define("inherit", function(t) {
            t(o)
        }), g = !1), "function" == typeof define && (define(function(t, e, n) {
            n.exports = o
        }), g = !1), g && (t.inherit = o)
    }(this), modules.define("identify", function(t) {
        var e = 0,
            n = "__" + +new Date,
            i = function() {
                return "uniq" + ++e
            };
        t(function(t, e) {
            if (!t) return i();
            var o = "uniqueID" in t ? "uniqueID" : n;
            return e || o in t ? t[o] : t[o] = i()
        })
    }), modules.define("next-tick", function(t) {
        var e = this.global,
            n = [],
            i = function(t) {
                return 1 === n.push(t)
            },
            o = function() {
                var t = n,
                    e = 0,
                    i = n.length;
                for (n = []; i > e;) t[e++]()
            };
        if ("object" == typeof process && process.nextTick) return t(function(t) {
            i(t) && process.nextTick(o)
        });
        if (e.setImmediate) return t(function(t) {
            i(t) && e.setImmediate(o)
        });
        if (e.postMessage) {
            var s = !0;
            if (e.attachEvent) {
                var r = function() {
                    s = !1
                };
                e.attachEvent("onmessage", r), e.postMessage("__checkAsync", "*"), e.detachEvent("onmessage", r)
            }
            if (s) {
                var c = "__nextTick" + +new Date,
                    a = function(t) {
                        t.data === c && (t.stopPropagation && t.stopPropagation(), o())
                    };
                return e.addEventListener ? e.addEventListener("message", a, !0) : e.attachEvent("onmessage", a), t(function(t) {
                    i(t) && e.postMessage(c, "*")
                })
            }
        }
        var u = e.document;
        if ("onreadystatechange" in u.createElement("script")) {
            var l = u.getElementsByTagName("head")[0],
                h = function() {
                    var t = u.createElement("script");
                    t.onreadystatechange = function() {
                        t.parentNode.removeChild(t), t = t.onreadystatechange = null, o()
                    }, l.appendChild(t)
                };
            return t(function(t) {
                i(t) && h()
            })
        }
        t(function(t) {
            i(t) && e.setTimeout(o, 0)
        })
    }), modules.define("objects", function(t) {
        var e = Object.prototype.hasOwnProperty;
        t({
            extend: function(t) {
                ("object" != typeof t || null === t) && (t = {});
                for (var n = 1, i = arguments.length; i > n; n++) {
                    var o = arguments[n];
                    if (o)
                        for (var s in o) e.call(o, s) && (t[s] = o[s])
                }
                return t
            },
            isEmpty: function(t) {
                for (var n in t)
                    if (e.call(t, n)) return !1;
                return !0
            },
            each: function(t, n, i) {
                for (var o in t) e.call(t, o) && (i ? n.call(i, t[o], o) : n(t[o], o))
            }
        })
    }), modules.define("functions", function(t) {
        var e = Object.prototype.toString;
        t({
            isFunction: function(t) {
                return "[object Function]" === e.call(t)
            },
            noop: function() {}
        })
    }), modules.define("events", ["identify", "inherit", "functions"], function(t, e, n, i) {
        var o, s = "__" + +new Date + "storage",
            r = function(t, n) {
                return e(t) + (n ? e(n) : "")
            },
            c = n({
                __constructor: function(t, e) {
                    this.type = t, this.target = e, this.result = o, this.data = o, this._isDefaultPrevented = !1, this._isPropagationStopped = !1
                },
                preventDefault: function() {
                    this._isDefaultPrevented = !0
                },
                isDefaultPrevented: function() {
                    return this._isDefaultPrevented
                },
                stopPropagation: function() {
                    this._isPropagationStopped = !0
                },
                isPropagationStopped: function() {
                    return this._isPropagationStopped
                }
            }),
            a = {
                on: function(t, e, n, c, a) {
                    if ("string" == typeof t) {
                        i.isFunction(e) && (c = n, n = e, e = o);
                        for (var u, l, h, d, f = r(n, c), m = this[s] || (this[s] = {}), p = t.split(" "), _ = 0; u = p[_++];) d = m[u] || (m[u] = {
                            ids: {},
                            list: {}
                        }), f in d.ids || (l = d.list, h = {
                            fn: n,
                            data: e,
                            ctx: c,
                            special: a
                        }, l.last ? (l.last.next = h, h.prev = l.last) : l.first = h, d.ids[f] = l.last = h)
                    } else
                        for (var v in t) t.hasOwnProperty(v) && this.on(v, t[v], e, a);
                    return this
                },
                once: function(t, e, n, i) {
                    return this.on(t, e, n, i, {
                        once: !0
                    })
                },
                un: function(t, e, n) {
                    if ("string" == typeof t || "undefined" == typeof t) {
                        var i = this[s];
                        if (i)
                            if (t) {
                                for (var o, c = t.split(" "), a = 0; t = c[a++];)
                                    if (o = i[t])
                                        if (e) {
                                            var u = r(e, n),
                                                l = o.ids;
                                            if (u in l) {
                                                var h = o.list,
                                                    d = l[u],
                                                    f = d.prev,
                                                    m = d.next;
                                                f ? f.next = m : d === h.first && (h.first = m), m ? m.prev = f : d === h.last && (h.last = f), delete l[u]
                                            }
                                        } else delete this[s][t]
                            } else delete this[s]
                    } else
                        for (var p in t) t.hasOwnProperty(p) && this.un(p, t[p], e);
                    return this
                },
                emit: function(t) {
                    var e = this[s],
                        n = !1;
                    if (e)
                        for (var i, o, r = ["string" == typeof t ? t : t.type, "*"], a = 0; i = r[a++];)
                            if (o = e[i])
                                for (var u, l = o.list.first, h = o.list.last; l && (n || (n = !0, "string" == typeof t && (t = new c(t)), t.target || (t.target = this)), t.data = l.data, u = l.fn.apply(l.ctx || this, arguments), "undefined" != typeof u && (t.result = u, u === !1 && (t.preventDefault(), t.stopPropagation())), l.special && l.special.once && this.un(t.type, l.fn, l.ctx), l !== h);) l = l.next;
                    return this
                }
            },
            u = n(a, a);
        t({
            Emitter: u,
            Event: c
        })
    }), modules.define("i-bem__dom", ["i-bem", "i-bem__internal", "identify", "objects", "functions", "jquery", "dom"], function(t, e, n, i, o, s, r, c) {
        function a(t, e) {
            var n, i = t[0],
                o = d(i);
            for (n in o) u(n, t, l(o[n], n, e))
        }

        function u(t, e, n, i, s) {
            var c = e[0];
            n || (n = l(f(c, t), t));
            var a = n.uniqId,
                u = M[a];
            if (u) return u.domElem.index(c) < 0 && (u.domElem = u.domElem.add(e), o.extend(u.params, n)), u;
            k[a] = k[a] ? k[a].add(e) : e;
            var h = c.parentNode;
            h && 11 !== h.nodeType || r.unique(k[a]);
            var d = w[t] || g.decl(t, {}, {
                live: !0
            }, !0);
            return !(d._liveInitable = !!d._processLive()) || i || n.live === !1 ? (i && e.addClass(C), u = new d(k[a], n, !!i), delete k[a], s && s.apply(u, Array.prototype.slice.call(arguments, 4)), u) : void 0
        }

        function l(t, e, n) {
            return t.uniqId || (t.uniqId = (t.id ? e + "-id-" + t.id : i()) + (n || i())), t
        }

        function h(t, e, n) {
            var i = t.find(e);
            return n ? i : i.add(t.filter(e))
        }

        function d(t) {
            var e = i(t);
            return P[e] || (P[e] = m(t))
        }

        function f(t, e) {
            var n = d(t);
            return n[e] || (n[e] = {})
        }

        function m(t) {
            var e = t.getAttribute(D);
            return e ? JSON.parse(e) : {}
        }

        function p(t, e) {
            1 === t.domElem.length ? t._destruct() : t.domElem = t.domElem.not(e)
        }

        function _(t) {
            t.each(function() {
                x[i(this)] = this.parentNode
            })
        }

        function v(t) {
            return r("string" == typeof t ? r.parseHTML(t, null, !0) : t)
        }
        var b, g, y = r(window),
            E = r(document),
            k = {},
            M = {},
            x = {},
            P = {},
            I = {},
            T = {},
            w = e.blocks,
            C = "i-bem",
            S = "." + C,
            D = "data-bem",
            j = n.NAME_PATTERN,
            O = n.MOD_DELIM,
            N = n.ELEM_DELIM,
            B = RegExp("[^" + O + "]" + O + "(" + j + ")(?:" + O + "(" + j + "))?$"),
            A = n.buildModPostfix,
            L = n.buildClass,
            F = Array.prototype.reverse;
        r(function() {
            g = e.decl("i-bem__dom", {
                __constructor: function(t, e, n) {
                    this.domElem = t, this._eventNameCache = {}, this._elemCache = {}, this._uniqId = e.uniqId, M[this._uniqId] = this, this._needSpecialUnbind = !1, this.__base(null, e, n)
                },
                findBlocksInside: function(t, e) {
                    return this._findBlocks("find", t, e)
                },
                findBlockInside: function(t, e) {
                    return this._findBlocks("find", t, e, !0)
                },
                findBlocksOutside: function(t, e) {
                    return this._findBlocks("parents", t, e)
                },
                findBlockOutside: function(t, e) {
                    return this._findBlocks("closest", t, e)[0] || null
                },
                findBlocksOn: function(t, e) {
                    return this._findBlocks("", t, e)
                },
                findBlockOn: function(t, e) {
                    return this._findBlocks("", t, e, !0)
                },
                _findBlocks: function(t, e, n, i) {
                    n || (n = e, e = b);
                    var o = e ? "string" == typeof e ? this.findElem(e) : e : this.domElem,
                        s = "string" == typeof n,
                        c = s ? n : n.block || n.blockName,
                        a = "." + (s ? L(c) : L(c, n.modName, n.modVal)) + (i ? ":first" : ""),
                        l = o.filter(a);
                    if (t && (l = l.add(o[t](a))), i) return l[0] ? u(c, l.eq(0), b, !0)._init() : null;
                    var h = [],
                        d = {};
                    return l.each(function(t, e) {
                        var n = u(c, r(e), b, !0)._init();
                        d[n._uniqId] || (d[n._uniqId] = !0, h.push(n))
                    }), h
                },
                bindToDomElem: function(t, e, n, i) {
                    return s.isFunction(n) && (i = n, n = b), i ? t.bind(this._buildEventName(e), n, r.proxy(i, this)) : o.each(e, function(e, i) {
                        this.bindToDomElem(t, i, n, e)
                    }, this), this
                },
                bindToDoc: function(t, e, n) {
                    return this._needSpecialUnbind = !0, this.bindToDomElem(E, t, e, n)
                },
                bindToWin: function(t, e, n) {
                    return this._needSpecialUnbind = !0, this.bindToDomElem(y, t, e, n)
                },
                bindTo: function(t, e, n, i) {
                    var o = arguments.length;
                    return 3 === o ? s.isFunction(n) && (i = n, "object" == typeof e && (n = e, e = t, t = this.domElem)) : 2 === o ? s.isFunction(e) ? (i = e, e = t, t = this.domElem) : "string" == typeof t || t instanceof r || (n = e, e = t, t = this.domElem) : 1 === o && (e = t, t = this.domElem), "string" == typeof t && (t = this.elem(t)), this.bindToDomElem(t, e, n, i)
                },
                unbindFromDomElem: function(t, e, n) {
                    return "string" == typeof e ? (e = this._buildEventName(e), n ? t.unbind(e, n) : t.unbind(e)) : o.each(e, function(e, n) {
                        this.unbindFromDomElem(t, n, e)
                    }, this), this
                },
                unbindFromDoc: function(t, e) {
                    return this.unbindFromDomElem(E, t, e)
                },
                unbindFromWin: function(t, e) {
                    return this.unbindFromDomElem(y, t, e)
                },
                unbindFrom: function(t, e, n) {
                    var i = arguments.length;
                    return 1 === i ? (e = t, t = this.domElem) : 2 === i && s.isFunction(e) ? (n = e, e = t, t = this.domElem) : "string" == typeof t && (t = this.elem(t)), this.unbindFromDomElem(t, e, n)
                },
                _buildEventName: function(t) {
                    return t.indexOf(" ") > 1 ? t.split(" ").map(function(t) {
                        return this._buildOneEventName(t)
                    }, this).join(" ") : this._buildOneEventName(t)
                },
                _buildOneEventName: function(t) {
                    var e = this._eventNameCache;
                    if (t in e) return e[t];
                    var n = "." + this._uniqId;
                    if (t.indexOf(".") < 0) return e[t] = t + n;
                    var i = ".bem_" + this.__self._name;
                    return e[t] = t.split(".").map(function(t, e) {
                        return 0 === e ? t + i : i + "_" + t
                    }).join("") + n
                },
                _ctxEmit: function(t, e) {
                    this.__base.apply(this, arguments);
                    var n = this,
                        s = I[n.__self._buildCtxEventName(t.type)],
                        r = {};
                    s && n.domElem.each(function(c, a) {
                        for (var u = s.counter; a && u;) {
                            var l = i(a, !0);
                            if (l) {
                                if (r[l]) break;
                                var h = s.ctxs[l];
                                h && (o.each(h, function(i) {
                                    i.fn.call(i.ctx || n, t, e)
                                }), u--), r[l] = !0
                            }
                            a = a.parentNode || x[l]
                        }
                    })
                },
                setMod: function(t, e, n) {
                    if (t && "undefined" != typeof n && t.length > 1) {
                        var i = this;
                        return t.each(function() {
                            var o = r(this);
                            o.__bemElemName = t.__bemElemName, i.setMod(o, e, n)
                        }), i
                    }
                    return this.__base(t, e, n)
                },
                _extractModVal: function(t, e, n) {
                    var i, o = (e || this.domElem)[0];
                    return o && (i = o.className.match(this.__self._buildModValRE(t, n || e))), i ? i[2] || !0 : ""
                },
                _extractMods: function(t, e) {
                    var n = {},
                        i = !t.length,
                        o = 0;
                    return ((e || this.domElem)[0].className.match(this.__self._buildModValRE("(" + (i ? j : t.join("|")) + ")", e, "g")) || []).forEach(function(t) {
                        var e = t.match(B);
                        n[e[1]] = e[2] || !0, ++o
                    }), o < t.length && t.forEach(function(t) {
                        t in n || (n[t] = "")
                    }), n
                },
                _onSetMod: function(t, e, n, i, o) {
                    if ("js" !== t || "" !== e) {
                        var s = this.__self,
                            c = s._buildModClassPrefix(t, o),
                            a = s._buildModValRE(t, o),
                            u = "" === e || e === !1;
                        (i || this.domElem).each(function() {
                            var t = this.className,
                                i = c;
                            e !== !0 && (i += O + e), (n === !0 ? a.test(t) : (" " + t).indexOf(" " + c + O) > -1) ? this.className = t.replace(a, u ? "" : "$1" + i) : u || r(this).addClass(i)
                        }), o && this.dropElemCache(o, t, n).dropElemCache(o, t, e)
                    }
                    this.__base.apply(this, arguments)
                },
                findElem: function(t, e, n, i, o) {
                    "string" == typeof t && (o = i, i = n, n = e, e = t, t = this.domElem), "boolean" == typeof n && (o = n, n = b), e = e.split(" ");
                    var s = this.__self,
                        r = A(n, i),
                        c = [],
                        a = e.map(function(t) {
                            return c.push(s.buildSelector(t, n, i)), t + r
                        }),
                        u = 1 === a.length,
                        l = h(t, c.join(","));
                    return t === this.domElem && c.forEach(function(t, n) {
                        (this._elemCache[a[n]] = u ? l : l.filter(t)).__bemElemName = e[n]
                    }, this), o ? this._filterFindElemResults(l) : l
                },
                _filterFindElemResults: function(t) {
                    var e = this.buildSelector(),
                        n = this.domElem;
                    return t.filter(function() {
                        return n.index(r(this).closest(e)) > -1
                    })
                },
                _elem: function(t, e, n) {
                    return this._elemCache[t + A(e, n)] || this.findElem(t, e, n)
                },
                elem: function(t, e, n) {
                    if (2 === arguments.length && (n = !0), e && "string" != typeof e) return e.__bemElemName = t, e;
                    if (t.indexOf(" ") < 0) return this._elem(t, e, n);
                    var i = r([]);
                    return t.split(" ").forEach(function(t) {
                        i = i.add(this._elem(t, e, n))
                    }, this), i
                },
                closestElem: function(t, e) {
                    return t.closest(this.buildSelector(e))
                },
                dropElemCache: function(t, e, n) {
                    if (t) {
                        var i = A(e, n);
                        t.indexOf(" ") < 0 ? delete this._elemCache[t + i] : t.split(" ").forEach(function(t) {
                            delete this._elemCache[t + i]
                        }, this)
                    } else this._elemCache = {};
                    return this
                },
                elemParams: function(t) {
                    var e;
                    return "string" == typeof t ? (e = t, t = this.elem(t)) : e = this.__self._extractElemNameFrom(t), m(t[0])[this.__self.buildClass(e)] || {}
                },
                elemify: function(t, e) {
                    return (t = r(t)).__bemElemName = e, t
                },
                containsDomElem: function(t, e) {
                    return 1 === arguments.length && (e = t, t = this.domElem), c.contains(t, e)
                },
                buildSelector: function(t, e, n) {
                    return this.__self.buildSelector(t, e, n)
                },
                _destruct: function() {
                    var t = this,
                        e = t.__self;
                    t._needSpecialUnbind && e.doc.add(e.win).unbind("." + t._uniqId), t.__base(), delete M[t.un()._uniqId]
                }
            }, {
                scope: r("body"),
                doc: E,
                win: y,
                _processLive: function(t) {
                    var e = this._liveInitable;
                    if ("live" in this) {
                        var n = "undefined" == typeof e;
                        if (n ^ t) {
                            e = this.live() !== !1;
                            var i = this.getName(),
                                o = this.live;
                            this.live = function() {
                                return this.getName() === i ? e : o.apply(this, arguments)
                            }
                        }
                    }
                    return e
                },
                init: function(t) {
                    "string" == typeof t ? t = r(t) : t || (t = g.scope);
                    var e = i();
                    return h(t, S).each(function() {
                        a(r(this), e)
                    }), this._runInitFns(), t
                },
                _destruct: function(t, e, n) {
                    var s;
                    e ? (_(s = t.children()), n && t.empty()) : (_(s = t), n && t.remove()), F.call(h(s, S)).each(function(t, e) {
                        var n = d(e);
                        o.each(n, function(t) {
                            if (t.uniqId) {
                                var n = M[t.uniqId];
                                n ? p(n, e) : delete k[t.uniqId]
                            }
                        }), delete P[i(e)]
                    })
                },
                destruct: function(t, e) {
                    this._destruct(t, e, !0)
                },
                detach: function(t, e) {
                    this._destruct(t, e)
                },
                update: function(t, e) {
                    return this.destruct(t, !0), this.init(t.html(e))
                },
                replace: function(t, e) {
                    var n = t.prev(),
                        i = t.parent();
                    return e = v(e), this.destruct(t), this.init(n.length ? e.insertAfter(n) : e.prependTo(i))
                },
                append: function(t, e) {
                    return this.init(v(e).appendTo(t))
                },
                prepend: function(t, e) {
                    return this.init(v(e).prependTo(t))
                },
                before: function(t, e) {
                    return this.init(v(e).insertBefore(t))
                },
                after: function(t, e) {
                    return this.init(v(e).insertAfter(t))
                },
                _buildCtxEventName: function(t) {
                    return this._name + ":" + t
                },
                _liveClassBind: function(t, e, n, o) {
                    if (e.indexOf(" ") > -1) e.split(" ").forEach(function(e) {
                        this._liveClassBind(t, e, n, o)
                    }, this);
                    else {
                        var s = T[e],
                            c = i(n);
                        s || (s = T[e] = {}, g.scope.bind(e, r.proxy(this._liveClassTrigger, this))), s = s[t] || (s[t] = {
                            uniqIds: {},
                            fns: []
                        }), c in s.uniqIds || (s.fns.push({
                            uniqId: c,
                            fn: this._buildLiveEventFn(n, o)
                        }), s.uniqIds[c] = s.fns.length - 1)
                    }
                    return this
                },
                _liveClassUnbind: function(t, e, n) {
                    var o = T[e];
                    if (o)
                        if (n) {
                            if (o = o[t]) {
                                var s = i(n);
                                if (s in o.uniqIds) {
                                    var r = o.uniqIds[s],
                                        c = o.fns.length - 1;
                                    for (o.fns.splice(r, 1); c > r;) o.uniqIds[o.fns[r++].uniqId] = r - 1;
                                    delete o.uniqIds[s]
                                }
                            }
                        } else delete o[t];
                    return this
                },
                _liveClassTrigger: function(t) {
                    var e = T[t.type];
                    if (e) {
                        var n = t.target,
                            i = [];
                        for (var o in e) i.push(o);
                        do
                            for (var s = " " + n.className + " ", c = 0; o = i[c++];)
                                if (s.indexOf(" " + o + " ") > -1) {
                                    for (var a, u = 0, l = e[o].fns, h = !1; a = l[u++];) a.fn.call(r(n), t) === !1 && (h = !0);
                                    if (h && t.preventDefault(), h || t.isPropagationStopped()) return;
                                    i.splice(--c, 1)
                                }
                        while (i.length && (n = n.parentNode))
                    }
                },
                _buildLiveEventFn: function(t, e) {
                    var n = this;
                    return function(i) {
                        i.currentTarget = this;
                        var o = [n._name, r(this).closest(n.buildSelector()), b, !0],
                            s = u.apply(null, e ? o.concat([t, i]) : o);
                        return s && !e && t ? t.apply(s, arguments) : void 0
                    }
                },
                liveInitOnEvent: function(t, e, n) {
                    return this.liveBindTo(t, e, n, !0)
                },
                liveBindTo: function(t, e, n, i) {
                    return (!e || s.isFunction(e)) && (n = e, e = t, t = b), t && "string" != typeof t || (t = {
                        elem: t
                    }), t.elem && t.elem.indexOf(" ") > 0 ? (t.elem.split(" ").forEach(function(o) {
                        this._liveClassBind(this.buildClass(o, t.modName, t.modVal), e, n, i)
                    }, this), this) : this._liveClassBind(this.buildClass(t.elem, t.modName, t.modVal), e, n, i)
                },
                liveUnbindFrom: function(t, e, n) {
                    return (!e || s.isFunction(e)) && (n = e, e = t, t = b), t && t.indexOf(" ") > 1 ? (t.split(" ").forEach(function(t) {
                        this._liveClassUnbind(this.buildClass(t), e, n)
                    }, this), this) : this._liveClassUnbind(this.buildClass(t), e, n)
                },
                _liveInitOnBlockEvent: function(t, e, n, i) {
                    var o = this._name;
                    return w[e].on(t, function(t) {
                        var e = arguments,
                            s = t.target[i](o);
                        n && s.forEach(function(t) {
                            n.apply(t, e)
                        })
                    }), this
                },
                liveInitOnBlockEvent: function(t, e, n) {
                    return this._liveInitOnBlockEvent(t, e, n, "findBlocksOn")
                },
                liveInitOnBlockInsideEvent: function(t, e, n) {
                    return this._liveInitOnBlockEvent(t, e, n, "findBlocksOutside")
                },
                on: function(t, e, n, i, o) {
                    return "object" == typeof t && t.jquery ? this._liveCtxBind(t, e, n, i, o) : this.__base(t, e, n, i)
                },
                un: function(t, e, n, i) {
                    return "object" == typeof t && t.jquery ? this._liveCtxUnbind(t, e, n, i) : this.__base(t, e, n)
                },
                _liveCtxBind: function(t, e, n, r, c) {
                    if ("object" == typeof e) {
                        if (!s.isFunction(n) && !s.isFunction(r)) return o.each(e, function(e, i) {
                            this._liveCtxBind(t, i, e, n)
                        }, this), this;
                        e = this._buildModEventName(e)
                    }
                    if (s.isFunction(n) && (c = r, r = n, n = b), e.indexOf(" ") > -1) e.split(" ").forEach(function(e) {
                        this._liveCtxBind(t, e, n, r, c)
                    }, this);
                    else {
                        var a = this._buildCtxEventName(e),
                            u = I[a] || (I[a] = {
                                counter: 0,
                                ctxs: {}
                            });
                        t.each(function() {
                            var t = i(this),
                                e = u.ctxs[t];
                            e || (e = u.ctxs[t] = {}, ++u.counter), e[i(r) + (c ? i(c) : "")] = {
                                fn: r,
                                data: n,
                                ctx: c
                            }
                        })
                    }
                    return this
                },
                _liveCtxUnbind: function(t, e, n, r) {
                    "object" == typeof e && s.isFunction(n) && (e = this._buildModEventName(e));
                    var c = I[e = this._buildCtxEventName(e)];
                    return c && (t.each(function() {
                        var t, e = i(this, !0);
                        e && (t = c.ctxs[e]) && (n && delete t[i(n) + (r ? i(r) : "")], (!n || o.isEmpty(t)) && (c.counter--, delete c.ctxs[e]))
                    }), c.counter || delete I[e]), this
                },
                _extractElemNameFrom: function(t) {
                    if (t.__bemElemName) return t.__bemElemName;
                    var e = t[0].className.match(this._buildElemNameRE());
                    return e ? e[1] : b
                },
                _buildModClassPrefix: function(t, e) {
                    return this._name + (e ? N + ("string" == typeof e ? e : this._extractElemNameFrom(e)) : "") + O + t
                },
                _buildModValRE: function(t, e, n) {
                    return new RegExp("(\\s|^)" + this._buildModClassPrefix(t, e) + "(?:" + O + "(" + j + "))?(?=\\s|$)", n)
                },
                _buildElemNameRE: function() {
                    return new RegExp(this._name + N + "(" + j + ")(?:\\s|$)")
                },
                buildClass: function(t, e, n) {
                    return L(this._name, t, e, n)
                },
                buildSelector: function(t, e, n) {
                    return "." + this.buildClass(t, e, n)
                }
            }), r.fn.bem = function(t, e) {
                return u(t, this, e, !0)._init()
            }, t(g)
        })
    }),
    function() {
        var t = modules.define;
        modules.define = function(e, n) {
            t.apply(modules, arguments), "i-bem__dom_init" !== e && arguments.length > 2 && ~n.indexOf("i-bem__dom") && modules.define("i-bem__dom_init", [e], function(t, e, n) {
                t(n)
            })
        }
    }(), modules.define("jquery", ["loader_type_js", "jquery__config"], function(t, e, n) {
        function i(e) {
            t(e ? jQuery : jQuery.noConflict(!0))
        }
        "undefined" != typeof jQuery ? i(!0) : e(n.url, i)
    }), modules.define("jquery__config", function(t) {
        t({
            url: "//yastatic.net/jquery/2.1.4/jquery.min.js"
        })
    }), modules.define("jquery__config", ["ua", "objects"], function(t, e, n, i) {
        t(e.msie && parseInt(e.version, 10) < 9 ? n.extend(i, {
            url: "//yastatic.net/jquery/1.11.3/jquery.min.js"
        }) : i)
    }), modules.define("ua", function(t) {
        var e = navigator.userAgent.toLowerCase(),
            n = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [],
            i = {
                browser: n[1] || "",
                version: n[2] || "0"
            },
            o = {};
        i.browser && (o[i.browser] = !0, o.version = i.version), o.chrome ? o.webkit = !0 : o.webkit && (o.safari = !0), t(o)
    }), modules.define("dom", ["jquery"], function(t, e) {
        t({
            contains: function(t, e) {
                var n = !1;
                return e.each(function() {
                    var e = this;
                    do
                        if (~t.index(e)) return !(n = !0);
                    while (e = e.parentNode);
                    return n
                }), n
            },
            getFocused: function() {
                try {
                    return e(document.activeElement)
                } catch (t) {}
            },
            containsFocus: function(t) {
                return this.contains(t, this.getFocused())
            },
            isFocusable: function(t) {
                var e = t[0];
                if (!e) return !1;
                if (e.hasAttribute("tabindex")) return !0;
                switch (e.tagName.toLowerCase()) {
                    case "iframe":
                        return !0;
                    case "input":
                    case "button":
                    case "textarea":
                    case "select":
                        return !e.disabled;
                    case "a":
                        return !!e.href
                }
                return !1
            },
            isEditable: function(t) {
                var e = t[0];
                if (!e) return !1;
                switch (e.tagName.toLowerCase()) {
                    case "input":
                        var n = e.type;
                        return !("text" !== n && "password" !== n || e.disabled || e.readOnly);
                    case "textarea":
                        return !e.disabled && !e.readOnly;
                    default:
                        return "true" === e.contentEditable
                }
            }
        })
    }), modules.define("i-bem__dom_init", ["i-bem__dom"], function(t, e) {
        t(function(t) {
            return e.init(t)
        })
    }), modules.define("link", ["i-bem__dom", "control", "events"], function(t, e, n, i) {
        t(e.decl({
            block: this.name,
            baseBlock: n
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this._url = this.params.url || this.domElem.attr("href"), this.hasMod("disabled") && this.domElem.removeAttr("href")
                    }
                },
                disabled: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.domElem.removeAttr("href")
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this.domElem.attr("href", this._url)
                    }
                }
            },
            getUrl: function() {
                return this._url
            },
            setUrl: function(t) {
                return this._url = t, this.hasMod("disabled") || this.domElem.attr("href", t), this
            },
            _onPointerClick: function(t) {
                if (this.hasMod("disabled")) t.preventDefault();
                else {
                    var e = new i.Event("click");
                    this.emit(e), e.isDefaultPrevented() && t.preventDefault()
                }
            }
        }, {
            live: function() {
                return this.liveBindTo("control", "pointerclick", this.prototype._onPointerClick), this.__base.apply(this, arguments)
            }
        }))
    }), modules.define("jquery", function(t, e) {
        function n(t) {
            "use strict";
            var e, i = this;
            if (this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = 10, this.layer = t, !t || !t.nodeType) throw new TypeError("Layer must be a document node");
            this.onClick = function() {
                return n.prototype.onClick.apply(i, arguments)
            }, this.onMouse = function() {
                return n.prototype.onMouse.apply(i, arguments)
            }, this.onTouchStart = function() {
                return n.prototype.onTouchStart.apply(i, arguments)
            }, this.onTouchMove = function() {
                return n.prototype.onTouchMove.apply(i, arguments)
            }, this.onTouchEnd = function() {
                return n.prototype.onTouchEnd.apply(i, arguments)
            }, this.onTouchCancel = function() {
                return n.prototype.onTouchCancel.apply(i, arguments)
            }, n.notNeeded(t) || (this.deviceIsAndroid && (t.addEventListener("mouseover", this.onMouse, !0), t.addEventListener("mousedown", this.onMouse, !0), t.addEventListener("mouseup", this.onMouse, !0)), t.addEventListener("click", this.onClick, !0), t.addEventListener("touchstart", this.onTouchStart, !1), t.addEventListener("touchmove", this.onTouchMove, !1), t.addEventListener("touchend", this.onTouchEnd, !1), t.addEventListener("touchcancel", this.onTouchCancel, !1), Event.prototype.stopImmediatePropagation || (t.removeEventListener = function(e, n, i) {
                var o = Node.prototype.removeEventListener;
                "click" === e ? o.call(t, e, n.hijacked || n, i) : o.call(t, e, n, i)
            }, t.addEventListener = function(e, n, i) {
                var o = Node.prototype.addEventListener;
                "click" === e ? o.call(t, e, n.hijacked || (n.hijacked = function(t) {
                    t.propagationStopped || n(t)
                }), i) : o.call(t, e, n, i)
            }), "function" == typeof t.onclick && (e = t.onclick, t.addEventListener("click", function(t) {
                e(t)
            }, !1), t.onclick = null))
        }
        n.prototype.deviceIsAndroid = navigator.userAgent.indexOf("Android") > 0, n.prototype.deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent), n.prototype.deviceIsIOS4 = n.prototype.deviceIsIOS && /OS 4_\d(_\d)?/.test(navigator.userAgent), n.prototype.deviceIsIOSWithBadTarget = n.prototype.deviceIsIOS && /OS ([6-9]|\d{2})_\d/.test(navigator.userAgent), n.prototype.needsClick = function(t) {
            "use strict";
            switch (t.nodeName.toLowerCase()) {
                case "button":
                case "select":
                case "textarea":
                    if (t.disabled) return !0;
                    break;
                case "input":
                    if (this.deviceIsIOS && "file" === t.type || t.disabled) return !0;
                    break;
                case "label":
                case "video":
                    return !0
            }
            return /\bneedsclick\b/.test(t.className)
        }, n.prototype.needsFocus = function(t) {
            "use strict";
            switch (t.nodeName.toLowerCase()) {
                case "textarea":
                    return !0;
                case "select":
                    return !this.deviceIsAndroid;
                case "input":
                    switch (t.type) {
                        case "button":
                        case "checkbox":
                        case "file":
                        case "image":
                        case "radio":
                        case "submit":
                            return !1
                    }
                    return !t.disabled && !t.readOnly;
                default:
                    return /\bneedsfocus\b/.test(t.className)
            }
        }, n.prototype.sendClick = function(t, e) {
            "use strict";
            var n, i;
            document.activeElement && document.activeElement !== t && document.activeElement.blur(), i = e.changedTouches[0], n = document.createEvent("MouseEvents"), n.initMouseEvent(this.determineEventType(t), !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null), n.forwardedTouchEvent = !0, t.dispatchEvent(n)
        }, n.prototype.determineEventType = function(t) {
            "use strict";
            return this.deviceIsAndroid && "select" === t.tagName.toLowerCase() ? "mousedown" : "click"
        }, n.prototype.focus = function(t) {
            "use strict";
            var e;
            this.deviceIsIOS && t.setSelectionRange && 0 !== t.type.indexOf("date") && "time" !== t.type ? (e = t.value.length, t.setSelectionRange(e, e)) : t.focus()
        }, n.prototype.updateScrollParent = function(t) {
            "use strict";
            var e, n;
            if (e = t.fastClickScrollParent, !e || !e.contains(t)) {
                n = t;
                do {
                    if (n.scrollHeight > n.offsetHeight) {
                        e = n, t.fastClickScrollParent = n;
                        break
                    }
                    n = n.parentElement
                } while (n)
            }
            e && (e.fastClickLastScrollTop = e.scrollTop)
        }, n.prototype.getTargetElementFromEventTarget = function(t) {
            "use strict";
            return t.nodeType === Node.TEXT_NODE ? t.parentNode : t
        }, n.prototype.onTouchStart = function(t) {
            "use strict";
            var e, n, i;
            if (t.targetTouches.length > 1) return !0;
            if (e = this.getTargetElementFromEventTarget(t.target), n = t.targetTouches[0], this.deviceIsIOS) {
                if (i = window.getSelection(), i.rangeCount && !i.isCollapsed) return !0;
                if (!this.deviceIsIOS4) {
                    if (n.identifier === this.lastTouchIdentifier) return t.preventDefault(), !1;
                    this.lastTouchIdentifier = n.identifier, this.updateScrollParent(e)
                }
            }
            return this.trackingClick = !0, this.trackingClickStart = t.timeStamp, this.targetElement = e, this.touchStartX = n.pageX, this.touchStartY = n.pageY, t.timeStamp - this.lastClickTime < 200 && t.preventDefault(), !0
        }, n.prototype.touchHasMoved = function(t) {
            "use strict";
            var e = t.changedTouches[0],
                n = this.touchBoundary;
            return Math.abs(e.pageX - this.touchStartX) > n || Math.abs(e.pageY - this.touchStartY) > n ? !0 : !1
        }, n.prototype.onTouchMove = function(t) {
            "use strict";
            return this.trackingClick ? ((this.targetElement !== this.getTargetElementFromEventTarget(t.target) || this.touchHasMoved(t)) && (this.trackingClick = !1, this.targetElement = null), !0) : !0
        }, n.prototype.findControl = function(t) {
            "use strict";
            return void 0 !== t.control ? t.control : t.htmlFor ? document.getElementById(t.htmlFor) : t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
        }, n.prototype.onTouchEnd = function(t) {
            "use strict";
            var e, n, i, o, s, r = this.targetElement;
            if (!this.trackingClick) return !0;
            if (t.timeStamp - this.lastClickTime < 200) return this.cancelNextClick = !0, !0;
            if (this.cancelNextClick = !1, this.lastClickTime = t.timeStamp, n = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, this.deviceIsIOSWithBadTarget && (s = t.changedTouches[0], r = document.elementFromPoint(s.pageX - window.pageXOffset, s.pageY - window.pageYOffset) || r, r.fastClickScrollParent = this.targetElement.fastClickScrollParent), i = r.tagName.toLowerCase(), "label" === i) {
                if (e = this.findControl(r)) {
                    if (this.focus(r), this.deviceIsAndroid) return !1;
                    r = e
                }
            } else if (this.needsFocus(r)) return t.timeStamp - n > 100 || this.deviceIsIOS && window.top !== window && "input" === i ? (this.targetElement = null, !1) : (this.focus(r), this.deviceIsIOS4 && "select" === i || (this.targetElement = null, t.preventDefault()), !1);
            return this.deviceIsIOS && !this.deviceIsIOS4 && (o = r.fastClickScrollParent, o && o.fastClickLastScrollTop !== o.scrollTop) ? !0 : (this.needsClick(r) || (t.preventDefault(), this.sendClick(r, t)), !1)
        }, n.prototype.onTouchCancel = function() {
            "use strict";
            this.trackingClick = !1, this.targetElement = null
        }, n.prototype.onMouse = function(t) {
            "use strict";
            return this.targetElement ? t.forwardedTouchEvent ? !0 : t.cancelable && (!this.needsClick(this.targetElement) || this.cancelNextClick) ? (t.stopImmediatePropagation ? t.stopImmediatePropagation() : t.propagationStopped = !0, t.stopPropagation(), t.preventDefault(), !1) : !0 : !0
        }, n.prototype.onClick = function(t) {
            "use strict";
            var e;
            return this.trackingClick ? (this.targetElement = null, this.trackingClick = !1, !0) : "submit" === t.target.type && 0 === t.detail ? !0 : (e = this.onMouse(t), e || (this.targetElement = null), e)
        }, n.prototype.destroy = function() {
            "use strict";
            var t = this.layer;
            this.deviceIsAndroid && (t.removeEventListener("mouseover", this.onMouse, !0), t.removeEventListener("mousedown", this.onMouse, !0), t.removeEventListener("mouseup", this.onMouse, !0)), t.removeEventListener("click", this.onClick, !0), t.removeEventListener("touchstart", this.onTouchStart, !1), t.removeEventListener("touchmove", this.onTouchMove, !1), t.removeEventListener("touchend", this.onTouchEnd, !1), t.removeEventListener("touchcancel", this.onTouchCancel, !1)
        }, n.notNeeded = function(t) {
            "use strict";
            var e;
            if ("undefined" == typeof window.ontouchstart) return !0;
            if (/Chrome\/[0-9]+/.test(navigator.userAgent)) {
                if (!n.prototype.deviceIsAndroid) return !0;
                if (e = document.querySelector("meta[name=viewport]"), e && -1 !== e.content.indexOf("user-scalable=no")) return !0
            }
            return "none" === t.style.msTouchAction ? !0 : !1
        }, n.attach = function(t) {
            "use strict";
            return new n(t)
        };
        var i = e.event.special.pointerclick = {
            setup: function() {
                e(this).on("click", i.handler)
            },
            teardown: function() {
                e(this).off("click", i.handler)
            },
            handler: function(t) {
                t.button || (t.type = "pointerclick", e.event.dispatch.apply(this, arguments), t.type = "click")
            }
        };
        e(function() {
            n.attach(document.body), t(e)
        })
    }),
    function(t, e) {
        "object" == typeof modules && modules.isDefined("jquery") ? modules.define("jquery", function(t, n) {
            e(this.global, n), t(n)
        }) : "function" == typeof jQuery && e(t, jQuery)
    }(this, function(t, e) {
        function n(t) {
            var n = e.extend(new e.Event, t);
            return t.preventDefault && (n.preventDefault = function() {
                t.preventDefault()
            }), n
        }

        function i(t, e) {
            return t.bubbles ? c.trigger(t, null, e) : c.dispatch.call(e, t)
        }

        function o(t, n) {
            n || (n = {});
            for (var i, o = e.Event(t), s = 0; f > s; s++) i = d[s], o[i] = n[i] || m[s];
            o.buttons = n.buttons || 0, o.x = o.clientX, o.y = o.clientY;
            var r = 0;
            return r = n.pressure ? n.pressure : o.buttons ? .5 : 0, o.pointerId = n.pointerId || 0, o.width = n.width || 0, o.height = n.height || 0, o.pressure = r, o.tiltX = n.tiltX || 0, o.tiltY = n.tiltY || 0, o.pointerType = n.pointerType || "", o.hwTimestamp = n.hwTimestamp || 0, o.isPrimary = n.isPrimary || !1, o.which = "undefined" == typeof n.which ? 1 : n.which, o
        }

        function s() {
            this.array = [], this.size = 0
        }

        function r() {
            v.eventHandler.apply(v, arguments)
        }
        var c = e.event;
        if (delete c.special.pointerenter, delete c.special.pointerleave, !t.PointerEvent) {
            var a, u = document,
                l = t.MSPointerEvent && "number" == typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,
                h = {
                    bubbles: !1,
                    cancelable: !1,
                    view: null,
                    detail: null,
                    screenX: 0,
                    screenY: 0,
                    clientX: 0,
                    clientY: 0,
                    ctrlKey: !1,
                    altKey: !1,
                    shiftKey: !1,
                    metaKey: !1,
                    button: 0,
                    relatedTarget: null,
                    pageX: 0,
                    pageY: 0
                },
                d = Object.keys(h),
                f = d.length,
                m = d.map(function(t) {
                    return h[t]
                });
            s.prototype = {
                set: function(t, e) {
                    return e === a ? this.delete(t) : (this.has(t) || this.size++, void(this.array[t] = e))
                },
                has: function(t) {
                    return this.array[t] !== a
                },
                "delete": function(t) {
                    this.has(t) && (delete this.array[t], this.size--)
                },
                get: function(t) {
                    return this.array[t]
                },
                clear: function() {
                    this.array.length = 0, this.size = 0
                },
                forEach: function(t, e) {
                    return this.array.forEach(function(n, i) {
                        t.call(e, n, i, this)
                    }, this)
                }
            };
            var p = t.Map && t.Map.prototype.forEach ? Map : s,
                _ = new p,
                v = {
                    eventMap: {},
                    eventSourceList: [],
                    registerSource: function(t, e) {
                        var n = e.events;
                        n && (n.forEach(function(t) {
                            e[t] && (this.eventMap[t] = function() {
                                e[t].apply(e, arguments)
                            })
                        }, this), this.eventSourceList.push(e))
                    },
                    register: function(t) {
                        for (var e, n = this.eventSourceList.length, i = 0; n > i && (e = this.eventSourceList[i]); i++) e.register.call(e, t)
                    },
                    unregister: function(t) {
                        for (var e, n = this.eventSourceList.length, i = 0; n > i && (e = this.eventSourceList[i]); i++) e.unregister.call(e, t)
                    },
                    down: function(t) {
                        t.bubbles = !0, this.fireEvent("pointerdown", t)
                    },
                    move: function(t) {
                        t.bubbles = !0, this.fireEvent("pointermove", t)
                    },
                    up: function(t) {
                        t.bubbles = !0, this.fireEvent("pointerup", t)
                    },
                    enter: function(t) {
                        t.bubbles = !1, this.fireEvent("pointerenter", t)
                    },
                    leave: function(t) {
                        t.bubbles = !1, this.fireEvent("pointerleave", t)
                    },
                    over: function(t) {
                        t.bubbles = !0, this.fireEvent("pointerover", t)
                    },
                    out: function(t) {
                        t.bubbles = !0, this.fireEvent("pointerout", t)
                    },
                    cancel: function(t) {
                        t.bubbles = !0, this.fireEvent("pointercancel", t)
                    },
                    leaveOut: function(t) {
                        this.out(t), this.enterLeave(t, this.leave)
                    },
                    enterOver: function(t) {
                        this.over(t), this.enterLeave(t, this.enter)
                    },
                    enterLeave: function(t, e) {
                        var n = t.target,
                            i = t.relatedTarget;
                        if (!this.contains(n, i))
                            for (; n && n !== i;) t.target = n, e.call(this, t), n = n.parentNode
                    },
                    contains: function(t, n) {
                        return t === n || e.contains(t, n)
                    },
                    eventHandler: function(t) {
                        if (!t._handledByPE) {
                            var e, n = t.type;
                            (e = this.eventMap && this.eventMap[n]) && e(t), t._handledByPE = !0
                        }
                    },
                    listen: function(t, e) {
                        e.forEach(function(e) {
                            this.addEvent(t, e)
                        }, this)
                    },
                    unlisten: function(t, e) {
                        e.forEach(function(e) {
                            this.removeEvent(t, e)
                        }, this)
                    },
                    addEvent: function(t, n) {
                        e(t).on(n, r)
                    },
                    removeEvent: function(t, n) {
                        e(t).off(n, r)
                    },
                    getTarget: function(t) {
                        return t._target
                    },
                    makeEvent: function(t, e) {
                        var n = new o(t, e);
                        return e.preventDefault && (n.preventDefault = e.preventDefault), n._target = n._target || e.target, n
                    },
                    dispatchEvent: function(t) {
                        var e = this.getTarget(t);
                        return e ? (t.target || (t.target = e), i(t, e)) : void 0
                    },
                    fireEvent: function(t, e) {
                        var n = this.makeEvent(t, e);
                        return this.dispatchEvent(n)
                    }
                },
                b = 200,
                g = 25,
                y = 1,
                E = 2500,
                k = 20,
                M = {
                    POINTER_TYPE: "mouse",
                    events: ["mousedown", "mousemove", "mouseup", "mouseover", "mouseout"],
                    register: function(t) {
                        v.listen(t, this.events)
                    },
                    unregister: function(t) {
                        v.unlisten(t, this.events)
                    },
                    lastTouches: [],
                    isEventSimulatedFromTouch: function(t) {
                        for (var e, n = this.lastTouches, i = t.clientX, o = t.clientY, s = 0, r = n.length; r > s && (e = n[s]); s++) {
                            var c = Math.abs(i - e.x),
                                a = Math.abs(o - e.y);
                            if (g >= c && g >= a) return !0
                        }
                    },
                    prepareEvent: function(t) {
                        var e = n(t);
                        return e.pointerId = y, e.isPrimary = !0, e.pointerType = this.POINTER_TYPE, e
                    },
                    mousedown: function(t) {
                        if (!this.isEventSimulatedFromTouch(t)) {
                            _.has(y) && this.cancel(t), _.set(y, t);
                            var e = this.prepareEvent(t);
                            v.down(e)
                        }
                    },
                    mousemove: function(t) {
                        if (!this.isEventSimulatedFromTouch(t)) {
                            var e = this.prepareEvent(t);
                            v.move(e)
                        }
                    },
                    mouseup: function(t) {
                        if (!this.isEventSimulatedFromTouch(t)) {
                            var e = _.get(y);
                            if (e && e.button === t.button) {
                                var n = this.prepareEvent(t);
                                v.up(n), this.cleanupMouse()
                            }
                        }
                    },
                    mouseover: function(t) {
                        if (!this.isEventSimulatedFromTouch(t)) {
                            var e = this.prepareEvent(t);
                            v.enterOver(e)
                        }
                    },
                    mouseout: function(t) {
                        if (!this.isEventSimulatedFromTouch(t)) {
                            var e = this.prepareEvent(t);
                            v.leaveOut(e)
                        }
                    },
                    cancel: function(t) {
                        var e = this.prepareEvent(t);
                        v.cancel(e), this.cleanupMouse()
                    },
                    cleanupMouse: function() {
                        _["delete"](y)
                    }
                },
                x = {
                    events: ["touchstart", "touchmove", "touchend", "touchcancel"],
                    register: function(t) {
                        v.listen(t, this.events)
                    },
                    unregister: function(t) {
                        v.unlisten(t, this.events)
                    },
                    POINTER_TYPE: "touch",
                    clickCount: 0,
                    resetId: null,
                    firstTouch: null,
                    isPrimaryTouch: function(t) {
                        return this.firstTouch === t.identifier
                    },
                    setPrimaryTouch: function(t) {
                        (0 === _.size || 1 === _.size && _.has(y)) && (this.firstTouch = t.identifier, this.firstXY = {
                            X: t.clientX,
                            Y: t.clientY
                        }, this.scrolling = null, this.cancelResetClickCount())
                    },
                    removePrimaryPointer: function(t) {
                        t.isPrimary && (this.firstTouch = null, this.resetClickCount())
                    },
                    resetClickCount: function() {
                        var t = this;
                        this.resetId = setTimeout(function() {
                            t.clickCount = 0, t.resetId = null
                        }, b)
                    },
                    cancelResetClickCount: function() {
                        this.resetId && clearTimeout(this.resetId)
                    },
                    typeToButtons: function(t) {
                        return "touchstart" === t || "touchmove" === t ? 1 : 0
                    },
                    findTarget: function(t) {
                        return u.elementFromPoint(t.clientX, t.clientY)
                    },
                    touchToPointer: function(t) {
                        var e = this.currentTouchEvent,
                            i = n(t);
                        i.pointerId = t.identifier + 2, i.target = this.findTarget(i), i.bubbles = !0, i.cancelable = !0, i.detail = this.clickCount, i.button = 0, i.buttons = this.typeToButtons(e.type), i.width = t.webkitRadiusX || t.radiusX || 0, i.height = t.webkitRadiusY || t.radiusY || 0, i.pressure = t.mozPressure || t.webkitForce || t.force || .5, i.isPrimary = this.isPrimaryTouch(t), i.pointerType = this.POINTER_TYPE;
                        var o = this;
                        return i.preventDefault = function() {
                            o.scrolling = !1, o.firstXY = null, e.preventDefault()
                        }, i
                    },
                    processTouches: function(t, e) {
                        var n = t.originalEvent.changedTouches;
                        this.currentTouchEvent = t;
                        for (var i, o = 0; o < n.length; o++) i = n[o], e.call(this, this.touchToPointer(i))
                    },
                    shouldScroll: function() {
                        return !0
                    },
                    findTouch: function(t, e) {
                        for (var n, i = 0, o = t.length; o > i && (n = t[i]); i++)
                            if (n.identifier === e) return !0
                    },
                    vacuumTouches: function(t) {
                        var e = t.touches;
                        if (_.size >= e.length) {
                            var n = [];
                            _.forEach(function(t, i) {
                                i === y || this.findTouch(e, i - 2) || n.push(t.outEvent)
                            }, this), n.forEach(this.cancelOut, this)
                        }
                    },
                    dedupSynthMouse: function(t) {
                        var e = M.lastTouches,
                            n = t.changedTouches[0];
                        if (this.isPrimaryTouch(n)) {
                            var i = {
                                x: n.clientX,
                                y: n.clientY
                            };
                            e.push(i), setTimeout(function() {
                                var t = e.indexOf(i);
                                t > -1 && e.splice(t, 1)
                            }, E)
                        }
                    },
                    touchstart: function(t) {
                        var e = t.originalEvent;
                        this.vacuumTouches(e), this.setPrimaryTouch(e.changedTouches[0]), this.dedupSynthMouse(e), this.scrolling || (this.clickCount++, this.processTouches(t, this.overDown))
                    },
                    touchmove: function(t) {
                        var e = t.originalEvent;
                        if (this.scrolling) {
                            if (this.firstXY) {
                                var n = this.firstXY,
                                    i = e.changedTouches[0],
                                    o = i.clientX - n.X,
                                    s = i.clientY - n.Y,
                                    r = Math.sqrt(o * o + s * s);
                                r >= k && (this.touchcancel(t), this.scrolling = !0, this.firstXY = null)
                            }
                        } else null === this.scrolling && this.shouldScroll(e) ? this.scrolling = !0 : (t.preventDefault(), this.processTouches(t, this.moveOverOut))
                    },
                    touchend: function(t) {
                        var e = t.originalEvent;
                        this.dedupSynthMouse(e), this.processTouches(t, this.upOut)
                    },
                    touchcancel: function(t) {
                        this.processTouches(t, this.cancelOut)
                    },
                    overDown: function(t) {
                        var e = t.target;
                        _.set(t.pointerId, {
                            target: e,
                            outTarget: e,
                            outEvent: t
                        }), v.over(t), v.enter(t), v.down(t)
                    },
                    moveOverOut: function(t) {
                        var e = _.get(t.pointerId);
                        if (e) {
                            v.move(t);
                            var n = e.outEvent,
                                i = e.outTarget;
                            n && i !== t.target && (t.relatedTarget = i, n.relatedTarget = t.target, n.target = i, t.target ? (v.leaveOut(n), v.enterOver(t)) : (t.target = i, t.relatedTarget = null, this.cancelOut(t))), e.outEvent = t, e.outTarget = t.target
                        }
                    },
                    upOut: function(t) {
                        v.up(t), v.out(t), v.leave(t), this.cleanUpPointer(t)
                    },
                    cancelOut: function(t) {
                        v.cancel(t), v.out(t), v.leave(t), this.cleanUpPointer(t)
                    },
                    cleanUpPointer: function(t) {
                        _["delete"](t.pointerId), this.removePrimaryPointer(t)
                    }
                },
                P = {
                    events: ["MSPointerDown", "MSPointerMove", "MSPointerUp", "MSPointerOut", "MSPointerOver", "MSPointerCancel"],
                    register: function(t) {
                        v.listen(t, this.events)
                    },
                    unregister: function(t) {
                        v.unlisten(t, this.events)
                    },
                    POINTER_TYPES: ["", "unavailable", "touch", "pen", "mouse"],
                    prepareEvent: function(t) {
                        var e = n(t);
                        return l && (e.pointerType = this.POINTER_TYPES[t.pointerType]), e
                    },
                    MSPointerDown: function(t) {
                        _.set(t.pointerId, t);
                        var e = this.prepareEvent(t);
                        v.down(e)
                    },
                    MSPointerMove: function(t) {
                        var e = this.prepareEvent(t);
                        v.move(e)
                    },
                    MSPointerUp: function(t) {
                        var e = this.prepareEvent(t);
                        v.up(e), this.cleanup(t.pointerId)
                    },
                    MSPointerOut: function(t) {
                        var e = this.prepareEvent(t);
                        v.leaveOut(e)
                    },
                    MSPointerOver: function(t) {
                        var e = this.prepareEvent(t);
                        v.enterOver(e)
                    },
                    MSPointerCancel: function(t) {
                        var e = this.prepareEvent(t);
                        v.cancel(e), this.cleanup(t.pointerId)
                    },
                    cleanup: function(t) {
                        _["delete"](t)
                    }
                },
                I = t.navigator;
            I.msPointerEnabled ? v.registerSource("ms", P) : (v.registerSource("mouse", M), "undefined" != typeof t.ontouchstart && v.registerSource("touch", x)), v.register(u)
        }
    }), modules.define("keyboard__codes", function(t) {
        t({
            BACKSPACE: 8,
            TAB: 9,
            ENTER: 13,
            CAPS_LOCK: 20,
            ESC: 27,
            SPACE: 32,
            PAGE_UP: 33,
            PAGE_DOWN: 34,
            END: 35,
            HOME: 36,
            LEFT: 37,
            UP: 38,
            RIGHT: 39,
            DOWN: 40,
            INSERT: 45,
            DELETE: 46
        })
    }), modules.define("control", ["i-bem__dom", "dom", "next-tick"], function(t, e, n, i) {
        t(e.decl(this.name, {
            beforeSetMod: {
                focused: {
                    "true": function() {
                        return !this.hasMod("disabled")
                    }
                }
            },
            onSetMod: {
                js: {
                    inited: function() {
                        this._focused = n.containsFocus(this.elem("control")), this._focused ? this._onFocus() : this.hasMod("focused") && this._focus(), this._tabIndex = this.elem("control").attr("tabindex"), this.hasMod("disabled") && "undefined" !== this._tabIndex && this.elem("control").removeAttr("tabindex")
                    }
                },
                focused: {
                    "true": function() {
                        this._focused || this._focus()
                    },
                    "": function() {
                        this._focused && this._blur()
                    }
                },
                disabled: {
                    "*": function(t, e) {
                        this.elem("control").prop(t, !!e)
                    },
                    "true": function() {
                        this.delMod("focused"), "undefined" != typeof this._tabIndex && this.elem("control").removeAttr("tabindex")
                    },
                    "": function() {
                        "undefined" != typeof this._tabIndex && this.elem("control").attr("tabindex", this._tabIndex)
                    }
                }
            },
            getName: function() {
                return this.elem("control").attr("name") || ""
            },
            getVal: function() {
                return this.elem("control").val()
            },
            _onFocus: function() {
                this._focused = !0, this.setMod("focused")
            },
            _onBlur: function() {
                this._focused = !1, this.delMod("focused")
            },
            _focus: function() {
                n.isFocusable(this.elem("control")) ? this.elem("control").focus() : this._onFocus()
            },
            _blur: function() {
                n.isFocusable(this.elem("control")) ? this.elem("control").blur() : this._onBlur()
            }
        }, {
            live: function() {
                this.liveBindTo("control", "focusin", function() {
                    this._focused || this._onFocus()
                }).liveBindTo("control", "focusout", this.prototype._onBlur);
                var t = n.getFocused();
                if (t.hasClass(this.buildClass("control"))) {
                    var e = this;
                    i(function() {
                        if (t[0] === n.getFocused()[0]) {
                            var i = t.closest(e.buildSelector());
                            i && i.bem(e.getName())
                        }
                    })
                }
            }
        }))
    }), modules.define("control", function(t, e) {
        t(e.decl({
            beforeSetMod: {
                hovered: {
                    "true": function() {
                        return !this.hasMod("disabled")
                    }
                }
            },
            onSetMod: {
                disabled: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.delMod("hovered")
                    }
                },
                hovered: {
                    "true": function() {
                        this.bindTo("mouseleave", this._onMouseLeave)
                    },
                    "": function() {
                        this.unbindFrom("mouseleave", this._onMouseLeave)
                    }
                }
            },
            _onMouseOver: function() {
                this.setMod("hovered")
            },
            _onMouseLeave: function() {
                this.delMod("hovered")
            }
        }, {
            live: function() {
                return this.liveBindTo("mouseover", this.prototype._onMouseOver).__base.apply(this, arguments)
            }
        }))
    }), modules.define("popup", ["i-bem__dom"], function(t, e) {
        var n, i = 1e3,
            o = {};
        t(e.decl(this.name, {
            onSetMod: {
                js: {
                    inited: function() {
                        this._parentPopup = n, this._zIndex = null, this._zIndexGroupLevel = null, this._isAttachedToScope = !1
                    },
                    "": function() {
                        this.delMod("visible")
                    }
                },
                visible: {
                    "true": function() {
                        this._isAttachedToScope || (e.scope.append(this.domElem), this._isAttachedToScope = !0), this._captureZIndex()._bindToParentPopup().bindTo("pointerpress pointerclick", this._setPreventHideByClick)
                    },
                    "": function() {
                        this._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerpress pointerclick", this._setPreventHideByClick)
                    }
                }
            },
            setContent: function(t) {
                return e.update(this.domElem, t), this
            },
            _calcZIndexGroupLevel: function() {
                var t = this.params.zIndexGroupLevel,
                    e = this._getParentPopup();
                return e && (t += e._zIndexGroupLevel), t
            },
            _setPreventHideByClick: function() {
                var t = this;
                do t._preventHideByClick = !0; while (t = t._getParentPopup())
            },
            _bindToParentPopup: function() {
                var t = this._getParentPopup();
                return t && t.on({
                    modName: "visible",
                    modVal: ""
                }, this._onParentPopupHide, this), this
            },
            _unbindFromParentPopup: function() {
                return this._parentPopup && this._parentPopup.un({
                    modName: "visible",
                    modVal: ""
                }, this._onParentPopupHide, this), this._parentPopup = n, this
            },
            _onParentPopupHide: function() {
                this.delMod("visible")
            },
            _getParentPopup: function() {
                return this._parentPopup
            },
            _captureZIndex: function() {
                var t = null === this._zIndexGroupLevel ? this._zIndexGroupLevel = this._calcZIndexGroupLevel() : this._zIndexGroupLevel,
                    e = o[t] || (o[t] = [(t + 1) * i]),
                    n = this._zIndex;
                return this._zIndex = e[e.push(e[e.length - 1] + 1) - 1], this._zIndex !== n && this.domElem.css("z-index", this._zIndex), this
            },
            _releaseZIndex: function() {
                var t = o[this._zIndexGroupLevel];
                return t.splice(t.indexOf(this._zIndex), 1), this
            },
            _recaptureZIndex: function() {
                return this._releaseZIndex(), this._zIndexGroupLevel = null, this._captureZIndex()
            },
            getDefaultParams: function() {
                return {
                    zIndexGroupLevel: 0
                }
            }
        }, {
            live: !0
        }))
    }), modules.define("functions__throttle", function(t) {
        var e = this.global;
        t(function(t, n, i, o) {
            var s = typeof i;
            "undefined" === s ? i = !0 : 3 === arguments.length && "boolean" !== s && (o = i, i = !0);
            var r, c, a, u = function() {
                a ? (t.apply(o, c), a = !1, r = e.setTimeout(u, n)) : r = null
            };
            return function() {
                c = arguments, o || (o = this), a = !0, r || (i ? u() : r = e.setTimeout(u, n))
            }
        })
    }), modules.define("popup", ["jquery", "i-bem__dom", "ua", "dom", "keyboard__codes"], function(t, e, n, i, o, s, r) {
        function c(t) {
            t.keyCode === s.ESC && u.length && !o.isEditable(e(t.target)) && u[0].delMod("visible")
        }
        var a = i.opera && i.version < 12.1 ? "keypress" : "keydown",
            u = [];
        t(r.decl({
            modName: "autoclosable",
            modVal: !0
        }, {
            onSetMod: {
                visible: {
                    "true": function() {
                        u.unshift(this), this.nextTick(function() {
                            this.bindToDoc("pointerclick", this._onDocPointerClick)
                        }).__base.apply(this, arguments)
                    },
                    "": function() {
                        u.splice(u.indexOf(this), 1), this.unbindFromDoc("pointerclick", this._onDocPointerClick).__base.apply(this, arguments)
                    }
                }
            },
            _onDocPointerClick: function(t) {
                this.hasMod("target", "anchor") && o.contains(this._anchor, e(t.target)) || (this._preventHideByClick ? this._preventHideByClick = null : this.delMod("visible"))
            }
        }, {
            live: function() {
                n.doc.on(a, c)
            }
        }))
    }), modules.define("popup", ["i-bem__dom", "objects"], function(t, e, n, i) {
        var o, s = .99,
            r = ["bottom-left", "bottom-center", "bottom-right", "top-left", "top-center", "top-right", "right-top", "right-center", "right-bottom", "left-top", "left-center", "left-bottom"],
            c = e.win;
        t(i.decl({
            modName: "target"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.__base.apply(this, arguments), this._lastDrawingCss = {
                            left: o,
                            top: o,
                            zIndex: o,
                            display: o
                        }
                    }
                },
                visible: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.bindToWin("scroll resize", this._onWinScrollAndResize).redraw()
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this.unbindFromWin("scroll resize", this._onWinScrollAndResize)
                    }
                }
            },
            setContent: function() {
                return this.__base.apply(this, arguments).redraw()
            },
            redraw: function() {
                if (!this.hasMod("visible")) return this;
                var t = this._calcBestDrawingParams();
                this.setMod("direction", t.direction);
                var e = this._lastDrawingCss,
                    i = !1;
                return n.each(this._calcDrawingCss(t), function(t, n) {
                    e[n] !== t && (e[n] = t, i = !0)
                }), i && this.domElem.css(e), this
            },
            _calcDrawingCss: function(t) {
                return {
                    left: t.left,
                    top: t.top
                }
            },
            calcPossibleDrawingParams: function() {
                var t = this._calcTargetDimensions(),
                    e = this._calcViewportDimensions(),
                    n = this.params,
                    i = n.mainOffset,
                    o = n.secondaryOffset,
                    s = n.viewportOffset;
                return this.params.directions.map(function(n) {
                    var r = {
                        direction: n,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    };
                    return this._checkMainDirection(n, "bottom") ? (r.top = t.top + t.height + i, r.height = e.bottom - r.top - s) : this._checkMainDirection(n, "top") ? (r.height = t.top - e.top - i - s, r.top = t.top - r.height - i) : (this._checkSecondaryDirection(n, "center") ? (r.height = e.bottom - e.top - 2 * s, r.top = t.top + t.height / 2 - r.height / 2) : this._checkSecondaryDirection(n, "bottom") ? (r.height = t.top + t.height - e.top - o - s, r.top = t.top + t.height - r.height - o) : this._checkSecondaryDirection(n, "top") && (r.top = t.top + o, r.height = e.bottom - r.top - s), this._checkMainDirection(n, "left") ? (r.width = t.left - e.left - i - s, r.left = t.left - r.width - i) : (r.left = t.left + t.width + i, r.width = e.right - r.left - s)), this._checkSecondaryDirection(n, "right") ? (r.width = t.left + t.width - e.left - o - s, r.left = t.left + t.width - r.width - o) : this._checkSecondaryDirection(n, "left") ? (r.left = t.left + o, r.width = e.right - r.left - s) : this._checkSecondaryDirection(n, "center") && this._checkMainDirection(n, "top", "bottom") && (r.width = e.right - e.left - 2 * s, r.left = t.left + t.width / 2 - r.width / 2), r
                }, this)
            },
            _calcBestDrawingParams: function() {
                for (var t, e, n, i, o, r, c = this._calcPopupDimensions(), a = this._calcTargetDimensions(), u = this._calcViewportDimensions(), l = this.params.directions, h = 0;
                    (t = l[h++]) && (e = this._calcPos(t, a, c), n = this._calcViewportFactor(e, u, c), (1 === h || n > r || !r && this.hasMod("direction", t)) && (i = t, r = n, o = e), !(r > s)););
                return {
                    direction: i,
                    left: o.left,
                    top: o.top
                }
            },
            _calcPopupDimensions: function() {
                var t = this.domElem.outerWidth(),
                    e = this.domElem.outerHeight();
                return {
                    width: t,
                    height: e,
                    area: t * e
                }
            },
            _calcTargetDimensions: function() {},
            _calcViewportDimensions: function() {
                var t = c.scrollTop(),
                    e = c.scrollLeft(),
                    n = c.width(),
                    i = c.height();
                return {
                    top: t,
                    left: e,
                    bottom: t + i,
                    right: e + n
                }
            },
            _calcPos: function(t, e, n) {
                var i = {},
                    o = this.params.mainOffset,
                    s = this.params.secondaryOffset;
                return this._checkMainDirection(t, "bottom") ? i.top = e.top + e.height + o : this._checkMainDirection(t, "top") ? i.top = e.top - n.height - o : this._checkMainDirection(t, "left") ? i.left = e.left - n.width - o : this._checkMainDirection(t, "right") && (i.left = e.left + e.width + o), this._checkSecondaryDirection(t, "right") ? i.left = e.left + e.width - n.width - s : this._checkSecondaryDirection(t, "left") ? i.left = e.left + s : this._checkSecondaryDirection(t, "bottom") ? i.top = e.top + e.height - n.height - s : this._checkSecondaryDirection(t, "top") ? i.top = e.top + s : this._checkSecondaryDirection(t, "center") && (this._checkMainDirection(t, "top", "bottom") ? i.left = e.left + e.width / 2 - n.width / 2 : this._checkMainDirection(t, "left", "right") && (i.top = e.top + e.height / 2 - n.height / 2)), i
            },
            _calcViewportFactor: function(t, e, n) {
                var i = this.params.viewportOffset,
                    o = Math.max(t.left, e.left + i),
                    s = Math.min(t.left + n.width, e.right - i),
                    r = Math.max(t.top, e.top + i),
                    c = Math.min(t.top + n.height, e.bottom - i);
                return s > o && c > r ? (s - o) * (c - r) / n.area : 0
            },
            _checkMainDirection: function(t, e, n) {
                return !t.indexOf(e) || n && !t.indexOf(n)
            },
            _checkSecondaryDirection: function(t, e) {
                return ~t.indexOf("-" + e)
            },
            _onWinScrollAndResize: function() {
                this.redraw()
            },
            getDefaultParams: function() {
                return n.extend(this.__base.apply(this, arguments), {
                    mainOffset: 0,
                    secondaryOffset: 0,
                    viewportOffset: 0,
                    directions: r
                })
            }
        }))
    }), modules.define("button", ["i-bem__dom", "control", "jquery", "dom", "functions", "keyboard__codes"], function(t, e, n, i, o, s, r) {
        t(e.decl({
            block: this.name,
            baseBlock: n
        }, {
            beforeSetMod: {
                pressed: {
                    "true": function() {
                        return !this.hasMod("disabled") || this.hasMod("togglable")
                    }
                },
                focused: {
                    "": function() {
                        return !this._isPointerPressInProgress
                    }
                }
            },
            onSetMod: {
                js: {
                    inited: function() {
                        this.__base.apply(this, arguments), this._isPointerPressInProgress = !1, this._focusedByPointer = !1
                    }
                },
                disabled: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.hasMod("togglable") || this.delMod("pressed")
                    }
                },
                focused: {
                    "true": function() {
                        this.__base.apply(this, arguments), this._focusedByPointer || this.setMod("focused-hard")
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this.delMod("focused-hard")
                    }
                }
            },
            getText: function() {
                return this.elem("text").text()
            },
            setText: function(t) {
                return this.elem("text").text(t || ""), this
            },
            _onFocus: function() {
                this._isPointerPressInProgress || (this.__base.apply(this, arguments), this.bindTo("control", "keydown", this._onKeyDown))
            },
            _onBlur: function() {
                this.unbindFrom("control", "keydown", this._onKeyDown).__base.apply(this, arguments)
            },
            _onPointerPress: function() {
                this.hasMod("disabled") || (this._isPointerPressInProgress = !0, this.bindToDoc("pointerrelease", this._onPointerRelease).setMod("pressed"))
            },
            _onPointerRelease: function(t) {
                this._isPointerPressInProgress = !1, this.unbindFromDoc("pointerrelease", this._onPointerRelease), o.contains(this.elem("control"), i(t.target)) ? (this._focusedByPointer = !0, this._focus(), this._focusedByPointer = !1, this._updateChecked().emit("click")) : this._blur(), this.delMod("pressed")
            },
            _onKeyDown: function(t) {
                if (!this.hasMod("disabled")) {
                    var e = t.keyCode;
                    (e === r.SPACE || e === r.ENTER) && this.unbindFrom("control", "keydown", this._onKeyDown).bindTo("control", "keyup", this._onKeyUp)._updateChecked().setMod("pressed")
                }
            },
            _onKeyUp: function(t) {
                this.unbindFrom("control", "keyup", this._onKeyUp).bindTo("control", "keydown", this._onKeyDown).delMod("pressed"), t.keyCode === r.SPACE && this._doAction(), this.emit("click")
            },
            _updateChecked: function() {
                return this.hasMod("togglable") && (this.hasMod("togglable", "check") ? this.toggleMod("checked") : this.setMod("checked")), this
            },
            _doAction: s.noop
        }, {
            live: function() {
                return this.liveBindTo("control", "pointerpress", this.prototype._onPointerPress), this.__base.apply(this, arguments)
            }
        }))
    }), modules.define("button", function(t, e) {
        t(e.decl({
            modName: "type",
            modVal: "link"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.__base.apply(this, arguments), this._url = this.params.url || this.domElem.attr("href"), this.hasMod("disabled") && this.domElem.removeAttr("href")
                    }
                },
                disabled: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.domElem.removeAttr("href")
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this.domElem.attr("href", this._url)
                    }
                }
            },
            getUrl: function() {
                return this._url
            },
            setUrl: function(t) {
                return this._url = t, this.hasMod("disabled") || this.domElem.attr("href", t), this
            },
            _doAction: function() {
                this._url && (document.location = this._url)
            }
        }))
    }), modules.define("button", ["BEMHTML"], function(t, e, n) {
        t(n.decl({
            modName: "action",
            modVal: "check-in"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.bindTo("click", function() {
                            var t = n.append(this.findBlockOutside("page").domElem, e.apply({
                                block: "appointment"
                            })).bem("appointment");
                            return t.setMod("visible", !0), !1
                        })
                    }
                }
            }
        }))
    }), modules.define("menu", ["i-bem__dom", "control", "keyboard__codes", "menu-item"], function(t, e, n, i) {
        var o = 1500;
        t(e.decl({
            block: this.name,
            baseBlock: n
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.__base.apply(this, arguments), this._hoveredItem = null, this._items = null, this._lastTyping = {
                            "char": "",
                            text: "",
                            index: 0,
                            time: 0
                        }
                    }
                },
                disabled: function(t, e) {
                    this.getItems().forEach(function(n) {
                        n.setMod(t, e)
                    })
                }
            },
            getItems: function() {
                return this._items || (this._items = this.findBlocksInside("menu-item"))
            },
            setContent: function(t) {
                return e.update(this.domElem, t), this._hoveredItem = null, this._items = null, this
            },
            searchItemByKeyboardEvent: function(t) {
                var e = +new Date,
                    n = t.charCode,
                    s = String.fromCharCode(n).toLowerCase(),
                    r = this._lastTyping,
                    c = r.index,
                    a = s === r.char && 1 === r.text.length,
                    u = this.getItems();
                if (n <= i.SPACE || t.ctrlKey || t.altKey || t.metaKey) return r.time = e, null;
                e - r.time > o || a ? r.text = s : r.text += s, r.char = s, r.time = e, a && 0 === u[c].getText().search(r.char) && (c = c >= u.length - 1 ? 0 : c + 1);
                for (var l = c, h = u.length; h > l;) {
                    if (this._doesItemMatchText(u[l], r.text)) return r.index = l, u[l];
                    l++, l === u.length && (l = 0, h = c)
                }
                return null
            },
            _onFocus: function() {
                this.__base.apply(this, arguments), this.bindToDoc("keydown", this._onKeyDown).bindToDoc("keypress", this._onKeyPress)
            },
            _onBlur: function() {
                this.unbindFromDoc("keydown", this._onKeyDown).unbindFromDoc("keypress", this._onKeyPress).__base.apply(this, arguments), this._hoveredItem && this._hoveredItem.delMod("hovered")
            },
            _onItemHover: function(t) {
                t.hasMod("hovered") ? (this._hoveredItem && this._hoveredItem.delMod("hovered"), this._scrollToItem(this._hoveredItem = t)) : this._hoveredItem === t && (this._hoveredItem = null)
            },
            _scrollToItem: function(t) {
                var e, n = this.domElem.offset().top,
                    i = t.domElem.offset().top;
                ((e = i - n) < 0 || (e = i + t.domElem.outerHeight() - n - this.domElem.outerHeight()) > 0) && this.domElem.scrollTop(this.domElem.scrollTop() + e)
            },
            _onItemClick: function(t, e) {
                this.emit("item-click", {
                    item: t,
                    source: e.source
                })
            },
            _onKeyDown: function(t) {
                var e = t.keyCode,
                    n = e === i.UP || e === i.DOWN;
                if (n && !t.shiftKey) {
                    t.preventDefault();
                    var o = e - 39,
                        s = this.getItems(),
                        r = s.length,
                        c = s.indexOf(this._hoveredItem),
                        a = c,
                        u = 0;
                    do
                        if (a += o, a = 0 > a ? r - 1 : a >= r ? 0 : a, ++u === r) return;
                    while (s[a].hasMod("disabled"));
                    this._lastTyping.index = a, s[a].setMod("hovered")
                }
            },
            _onKeyPress: function(t) {
                var e = this.searchItemByKeyboardEvent(t);
                e && e.setMod("hovered")
            },
            _doesItemMatchText: function(t, e) {
                return !t.hasMod("disabled") && 0 === t.getText().toLowerCase().search(e)
            }
        }, {
            live: function() {
                return this.liveInitOnBlockInsideEvent({
                    modName: "hovered",
                    modVal: "*"
                }, "menu-item", function(t) {
                    this._onItemHover(t.target)
                }).liveInitOnBlockInsideEvent("click", "menu-item", function(t, e) {
                    this._onItemClick(t.target, e)
                }), this.__base.apply(this, arguments)
            }
        }))
    }), modules.define("menu-item", ["i-bem__dom"], function(t, e) {
        t(e.decl(this.name, {
            beforeSetMod: {
                hovered: {
                    "true": function() {
                        return !this.hasMod("disabled")
                    }
                }
            },
            onSetMod: {
                js: {
                    inited: function() {
                        this.bindTo("pointerleave", this._onPointerLeave)
                    }
                },
                disabled: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.delMod("hovered")
                    }
                }
            },
            isValEq: function(t) {
                return String(this.params.val) === String(t)
            },
            getVal: function() {
                return this.params.val
            },
            getText: function() {
                return this.params.text || this.domElem.text()
            },
            _onPointerOver: function() {
                this.setMod("hovered")
            },
            _onPointerLeave: function() {
                this.delMod("hovered")
            },
            _onPointerClick: function() {
                this.hasMod("disabled") || this.emit("click", {
                    source: "pointer"
                })
            }
        }, {
            live: function() {
                var t = this.prototype;
                this.liveBindTo("pointerover", t._onPointerOver).liveBindTo("pointerclick", t._onPointerClick)
            }
        }))
    }), modules.define("select", ["i-bem__dom", "popup", "menu", "button", "jquery", "dom", "keyboard__codes", "strings__escape"], function(t, e, n, i, o, s, r, c, a) {
        t(e.decl(this.name, {
            beforeSetMod: {
                opened: {
                    "true": function() {
                        return !this.hasMod("disabled")
                    }
                },
                focused: {
                    "": function() {
                        return !this._isPointerPressInProgress
                    }
                }
            },
            onSetMod: {
                js: {
                    inited: function() {
                        this._button = this.findBlockInside("button").on("click", this._onButtonClick, this), this._popup = this.findBlockInside("popup").setAnchor(this._button).on({
                            modName: "visible",
                            modVal: ""
                        }, this._onPopupHide, this), this._menu = this._popup.findBlockInside("menu").on({
                            change: this._onMenuChange,
                            "item-click": this._onMenuItemClick
                        }, this), this._isPointerPressInProgress = !1, this._buttonWidth = null, this.hasMod("focused") && this._focus()
                    }
                },
                focused: {
                    "true": function() {
                        this._focus()
                    },
                    "": function() {
                        this._blur()
                    }
                },
                opened: {
                    "*": function(t, e) {
                        this._menu.setMod("focused", e)
                    },
                    "true": function() {
                        null === this._buttonWidth && this._updateMenuWidth(), this._updateMenuHeight(), this._popup.setMod("visible"), this.bindToDoc("pointerpress", this._onDocPointerPress).setMod("focused")._hoverCheckedOrFirstItem()
                    },
                    "": function() {
                        this.unbindFromDoc("pointerpress", this._onDocPointerPress)._popup.delMod("visible")
                    }
                },
                disabled: {
                    "*": function(t, e) {
                        this._button.setMod(t, e), this._menu.setMod(t, e), this.elem("control").prop("disabled", e)
                    },
                    "true": function() {
                        this._popup.delMod("visible")
                    }
                }
            },
            getVal: function() {
                return this._menu.getVal()
            },
            setVal: function(t) {
                return this._menu.setVal(t), this
            },
            getName: function() {
                return this.params.name
            },
            getDefaultParams: function() {
                return {
                    optionsMaxHeight: Number.POSITIVE_INFINITY
                }
            },
            _focus: function() {
                this.bindTo("button", {
                    keydown: this._onKeyDown,
                    keypress: this._onKeyPress
                })._button.setMod("focused")
            },
            _blur: function() {
                this.unbindFrom("button", {
                    keydown: this._onKeyDown,
                    keypress: this._onKeyPress
                }).delMod("opened")._button.delMod("focused")
            },
            _updateMenuWidth: function() {
                this._menu.domElem.css("min-width", this._buttonWidth = this._button.domElem.outerWidth()), this._popup.redraw()
            },
            _updateMenuHeight: function() {
                var t = this._popup.calcPossibleDrawingParams(),
                    e = this._menu.domElem,
                    n = e.outerWidth(),
                    i = 0;
                t.forEach(function(t) {
                    t.width >= n && t.height > i && (i = t.height)
                }), i && e.css("max-height", Math.min(this.params.optionsMaxHeight, i))
            },
            _getCheckedItems: function() {
                return this._menu.getItems().filter(function(t) {
                    return t.hasMod("checked")
                })
            },
            _hoverCheckedOrFirstItem: function() {
                (this._getCheckedItems()[0] || this._menu.getItems()[0]).setMod("hovered")
            },
            _onKeyDown: function(t) {
                this.hasMod("opened") ? t.keyCode === c.ESC && (t.stopPropagation(), this.delMod("opened")) : t.keyCode !== c.UP && t.keyCode !== c.DOWN || t.shiftKey || (t.preventDefault(), this.setMod("opened"))
            },
            _onKeyPress: function(t) {
                if (!this.hasMod("opened")) {
                    var e = this._menu.searchItemByKeyboardEvent(t);
                    e && this._setSingleVal(e.getVal())
                }
            },
            _setSingleVal: function(t) {
                this.setVal(t)
            },
            _onMenuChange: function() {
                this._updateControl(), this._updateButton(), this.hasMod("opened") ? this._updateMenuWidth() : this._buttonWidth = null, this.emit("change")
            },
            _onMenuItemClick: function() {},
            _updateControl: function() {},
            _updateButton: function() {},
            _onButtonClick: function() {
                this.toggleMod("opened")
            },
            _onButtonFocusChange: function(t, e) {
                this.setMod("focused", e.modVal)
            },
            _onPopupHide: function() {
                this.delMod("opened")
            },
            _onDocPointerPress: function(t) {
                this._isEventInPopup(t) && ("mouse" === t.pointerType && t.preventDefault(), this._isPointerPressInProgress = !0, this.bindToDoc("pointerrelease", {
                    focusedHardMod: this._button.getMod("focused-hard")
                }, this._onDocPointerRelease))
            },
            _onDocPointerRelease: function(t) {
                this._isPointerPressInProgress = !1, this.unbindFromDoc("pointerrelease", this._onDocPointerRelease)._button.toggleMod("focused", !0, "", this._isEventInPopup(t)).setMod("focused-hard", t.data.focusedHardMod)
            },
            _isEventInPopup: function(t) {
                return r.contains(this._popup.domElem, s(t.target))
            }
        }, {
            live: function() {
                this.liveInitOnBlockInsideEvent({
                    modName: "focused",
                    modVal: "*"
                }, "button", this.prototype._onButtonFocusChange)
            },
            _createControlHTML: function(t, e) {
                return '<input type="hidden" name="' + t + '" class="' + this.buildClass("control") + '" value="' + a.attr(e) + '"/>'
            }
        }))
    }), modules.define("strings__escape", function(t) {
        var e = {
                '"': "&quot;",
                "'": "&apos;",
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;"
            },
            n = function(t) {
                return e[t] || t
            },
            i = function(t) {
                return t = new RegExp(t, "g"),
                    function(e) {
                        return ("" + e).replace(t, n)
                    }
            };
        t({
            xml: i("[&<>]"),
            html: i("[&<>]"),
            attr: i("[\"'&<>]")
        })
    }), modules.define("link", ["jquery"], function(t, e, n) {
        t(n.decl({
            modName: "scroll",
            modVal: "up"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.bindTo("click", function() {
                            var t = this.params.duration || 1e3;
                            return e("html,body").animate({
                                scrollTop: 0
                            }, t), !1
                        })
                    }
                }
            }
        }))
    }), modules.define("map_api_gmaps", ["i-bem__dom", "loader_type_js", "jquery"], function(t, e, n) {
        e.decl({
            block: "map",
            modName: "api",
            modVal: "yandex"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        var t = this.params;
                        n("https://api-maps.yandex.ru/2.1/?lang=ru_RU", function() {
                            map = ymaps.ready(function() {
                                var e = new ymaps.Map("map", {
                                        center: [t.center[0], t.center[1]],
                                        zoom: t.zoom,
                                        controls: ["geolocationControl", "routeEditor", "trafficControl", "typeSelector", "fullscreenControl", "zoomControl", "rulerControl"]
                                    }),
                                    n = new ymaps.Placemark([t.center[0], t.center[1]], {
                                        hintContent: t.title,
                                        balloonContent: t.data
                                    });
                                e.geoObjects.add(n)
                            })
                        })
                    }
                }
            }
        }), t(e)
    }), modules.require(["i-bem__dom_init", "jquery", "next-tick"], function(t, e, n) {
        e(function() {
            n(t)
        })
    }), modules.define("loader_type_js", function(t) {
        var e = {},
            n = {},
            i = document.getElementsByTagName("head")[0],
            o = function(t, n) {
                var i, o = e[t],
                    s = 0;
                for (delete e[t]; i = o[s++];) i[n] && i[n]()
            },
            s = function(t) {
                n[t] = !0, o(t, "success")
            },
            r = function(t) {
                o(t, "error")
            };
        t(function(t, o, c) {
            if (n[t]) return void o();
            if (e[t]) return void e[t].push({
                success: o,
                error: c
            });
            e[t] = [{
                success: o,
                error: c
            }];
            var a = document.createElement("script");
            a.type = "text/javascript", a.charset = "utf-8", a.src = ("file:" !== location.protocol || t.indexOf("//") ? "" : "http:") + t, "onload" in a ? (a.onload = function() {
                a.onload = a.onerror = null, s(t)
            }, a.onerror = function() {
                a.onload = a.onerror = null, r(t)
            }) : a.onreadystatechange = function() {
                var e = this.readyState;
                ("loaded" === e || "complete" === e) && (a.onreadystatechange = null, s(t))
            }, i.insertBefore(a, i.lastChild)
        })
    }), modules.define("jquery", function(t, e) {
        e.each({
            pointerpress: "pointerdown",
            pointerrelease: "pointerup pointercancel"
        }, function(t, n) {
            function i(n) {
                var i, o = n.handleObj.origType;
                return 1 === n.which && (n.type = t, i = e.event.dispatch.apply(this, arguments), n.type = o), i
            }
            e.event.special[t] = {
                setup: function() {
                    return e(this).on(n, i), !1
                },
                teardown: function() {
                    return e(this).off(n, i), !1
                }
            }
        }), t(e)
    }), modules.define("modal", ["i-bem__dom", "popup"], function(t, e) {
        t(e.decl(this.name, {
            onSetMod: {
                js: {
                    inited: function() {
                        this._popup = this.findBlockOn("popup")
                    },
                    "": function() {
                        this.delMod("visible")
                    }
                },
                visible: function(t, e) {
                    this._popup.setMod(t, e)
                }
            },
            setContent: function(t) {
                return e.update(this.elem("content"), t), this
            }
        }, {
            live: !0
        }))
    }), modules.define("modal", function(t, e) {
        t(e.decl({
            onSetMod: {
                visible: {
                    "": function() {
                        e.destruct(this.domElem)
                    }
                }
            }
        }))
    }), modules.define("modal", ["jquery", "dom"], function(t, e, n, i) {
        t(i.decl({
            modName: "autoclosable",
            modVal: !0
        }, {
            onSetMod: {
                visible: {
                    "true": function() {
                        this.__base.apply(this, arguments), this.bindTo("pointerclick", this._onPointerClick)._popup.on({
                            modName: "visible",
                            modVal: ""
                        }, this._onPopupHide, this)
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this.unbindFrom("pointerclick", this._onPointerClick)._popup.un({
                            modName: "visible",
                            modVal: ""
                        }, this._onPopupHide, this)
                    }
                }
            },
            _onPointerClick: function(t) {
                n.contains(this.elem("content"), e(t.target)) || this.delMod("visible")
            },
            _onPopupHide: function() {
                this.delMod("visible")
            }
        }))
    }), modules.define("popup", ["i-bem__dom", "jquery", "objects", "functions__throttle"], function(t, e, n, i, o, s) {
        var r, c = n(e.doc[0].body),
            a = 100;
        t(s.decl({
            modName: "target",
            modVal: "anchor"
        }, {
            beforeSetMod: {
                visible: {
                    "true": function() {
                        if (!this._anchor) throw Error("Can't show popup without anchor")
                    }
                }
            },
            onSetMod: {
                js: {
                    inited: function() {
                        this.__base.apply(this, arguments), this._anchor = null, this._anchorParents = null, this._destructor = null, this._isAnchorVisible = r, this._updateIsAnchorVisible = o(this._updateIsAnchorVisible, a, !1, this)
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this._unbindFromDestructor()
                    }
                },
                visible: {
                    "true": function() {
                        this._anchorParents = this._anchor.parents(), this._bindToAnchorParents(), this.__base.apply(this, arguments)
                    },
                    "": function() {
                        this.__base.apply(this, arguments), this._unbindFromAnchorParents(), this._anchorParents = null, this._isAnchorVisible = r
                    }
                }
            },
            setAnchor: function(t) {
                return this._unbindFromAnchorParents()._unbindFromParentPopup()._unbindFromDestructor(), this._anchor = t instanceof e ? t.domElem : t, this._destructor = this._anchor.bem("_" + this.__self.getName() + "-destructor"), this._isAnchorVisible = r, this._bindToDestructor(), this.hasMod("visible") ? (this._anchorParents = this._anchor.parents(), this._recaptureZIndex()._bindToAnchorParents()._bindToParentPopup().redraw()) : (this._anchorParents = null, this._zIndexGroupLevel = null), this
            },
            _calcTargetDimensions: function() {
                var t = this._anchor,
                    e = t.offset(),
                    n = "static" === c.css("position") ? {
                        left: 0,
                        top: 0
                    } : c.offset();
                return {
                    left: e.left - n.left,
                    top: e.top - n.top,
                    width: t.outerWidth(),
                    height: t.outerHeight()
                }
            },
            _calcDrawingCss: function(t) {
                return "undefined" == typeof this._isAnchorVisible && (this._isAnchorVisible = this._calcIsAnchorVisible()), i.extend(this.__base(t), {
                    display: this._isAnchorVisible ? "" : "none"
                })
            },
            _calcIsAnchorVisible: function() {
                var t = this._anchor,
                    e = t.offset(),
                    i = e.left,
                    o = e.top,
                    s = i + t.outerWidth(),
                    r = o + t.outerHeight(),
                    c = this.getMod("direction"),
                    a = Math.floor(this._checkMainDirection(c, "top") || this._checkSecondaryDirection(c, "top") ? o : r),
                    u = Math.floor(this._checkMainDirection(c, "left") || this._checkSecondaryDirection(c, "left") ? i : s),
                    l = !0;
                return this._anchorParents.each(function() {
                    if ("BODY" === this.tagName) return !1;
                    var t = n(this),
                        e = t.css("overflow-y"),
                        i = "scroll" === e || "hidden" === e || "auto" === e,
                        o = t.css("overflow-x"),
                        s = "scroll" === o || "hidden" === o || "auto" === o;
                    if (i || s) {
                        var r = t.offset();
                        if (i) {
                            var c = Math.floor(r.top);
                            if (c > a || c + t.outerHeight() < a) return l = !1
                        }
                        if (s) {
                            var h = Math.floor(r.left);
                            return l = !(h > u || h + t.outerWidth() < u)
                        }
                    }
                }), l
            },
            _calcZIndexGroupLevel: function() {
                var t = this.__base.apply(this, arguments);
                return this._destructor.findBlocksOutside("z-index-group").reduce(function(t, e) {
                    return t + Number(e.getMod("level"))
                }, t)
            },
            _bindToAnchorParents: function() {
                return this.bindTo(this._anchorParents, "scroll", this._onAnchorParentsScroll)
            },
            _unbindFromAnchorParents: function() {
                return this._anchorParents && this.unbindFrom(this._anchorParents, "scroll", this._onAnchorParentsScroll), this
            },
            _onAnchorParentsScroll: function() {
                this.redraw()._updateIsAnchorVisible()
            },
            _onWinScrollAndResize: function() {
                this.__base.apply(this, arguments), this._updateIsAnchorVisible()
            },
            _updateIsAnchorVisible: function() {
                if (this.hasMod("js", "inited") && this.hasMod("visible")) {
                    var t = this._calcIsAnchorVisible();
                    t !== this._isAnchorVisible && (this._isAnchorVisible = t, this.redraw())
                }
            },
            _bindToDestructor: function() {
                return this._destructor.on({
                    modName: "js",
                    modVal: ""
                }, this._onPopupAnchorDestruct, this), this
            },
            _unbindFromDestructor: function() {
                return this._destructor && this._destructor.un({
                    modName: "js",
                    modVal: ""
                }, this._onPopupAnchorDestruct, this), this
            },
            _onPopupAnchorDestruct: function() {
                e.destruct(this.domElem)
            },
            _getParentPopup: function() {
                return this._parentPopup === r ? this._parentPopup = this.findBlockOutside(this._anchor, this.__self.getName()) : this._parentPopup
            }
        }))
    }), modules.define("nav", ["i-bem__dom"], function(t, e) {
        e.decl("nav", {
            onSetMod: {
                js: {
                    inited: function() {
                        var t = this;
                        this.bindTo("button", "click", function() {
                            t.toggleMod(t.elem("modal"), "visible"), t.toggleMod(t.elem("button"), "close")
                        })
                    }
                }
            }
        }), t(e)
    }), modules.define("link", ["jquery"], function(t, e, n) {
        t(n.decl({
            modName: "scroll",
            modVal: "down"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.bindTo("click", function() {
                            var t = e("[name=" + this.domElem.attr("href").replace(/#/, "") + "]"),
                                n = this.params.duration || 1e3;
                            return t && e("html,body").animate({
                                scrollTop: t.offset().top
                            }, n), !1
                        })
                    }
                }
            }
        }))
    }), modules.define("jquery__scroolly", ["loader_type_js", "jquery"], function(t, e, n) {
        window.$ = n, "undefined" != typeof n.scroolly ? t(n.scroolly) : e("/ext/jquery.scroolly.js", function() {
            t(n.scroolly)
        })
    }), modules.define("service", ["i-bem__dom", "jquery", "jquery__scroolly"], function(t, e, n) {
        e.decl("service", {
            onSetMod: {
                js: {
                    inited: function() {
                        var t, e = 42,
                            i = 440;
                        this.domElem.scroolly([{
                            from: "el-top = vp-top",
                            to: "el-bottom = vp-center",
                            onScroll: function(o, s) {
                                t && t.remove(), t = n("<style>.service:before{height:" + (1.7 * s + i) + "px}.service:after{height:" + (1.7 * s + e) + "px}</style>"), t.appendTo("head")
                            }
                        }])
                    }
                }
            }
        }), t(e)
    }), modules.define("map_api_gmaps", ["i-bem__dom", "loader_type_js", "jquery"], function(t, e, n) {
        e.decl({
            block: "map",
            modName: "api",
            modVal: "gmaps"
        }, {
            onSetMod: {
                js: {
                    inited: function() {
                        var t = this;
                        window.initializeGmaps = function() {
                            var e = new google.maps.LatLng(t.params.center[0], t.params.center[1]),
                                n = {
                                    center: e,
                                    zoom: t.params.zoom,
                                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                                    styles: t.params.styles,
                                    scrollwheel: !1,
                                    disableDefaultUI: !0
                                },
                                i = new google.maps.Map(t.domElem[0], n),
                                o = new google.maps.Marker({
                                    position: e,
                                    map: i,
                                    title: t.params.title,
                                    icon: t.params.icon
                                }),
                                s = new google.maps.InfoWindow({
                                    content: t.params.data
                                });
                            s.open(i, o), google.maps.event.addListener(o, "click", function() {
                                s.open(i, o)
                            })
                        }, n("//maps.googleapis.com/maps/api/js?key=AIzaSyCkY0nr5szDt6BVYw7k0EyBtRSfBKLlmDA&sensor=true&callback=initializeGmaps", function() {})
                    }
                }
            }
        }), t(e)
    }), modules.define("page", ["i-bem__dom"], function(t, e) {
        e.decl("page", {
            onSetMod: {
                js: {
                    inited: function() {
                        var t = (this.findBlocksInside({
                                block: "button",
                                modName: "action",
                                modVal: "check-in"
                            }), this.findBlockInside("contacts")),
                            e = this.findBlockInside("map"),
                            n = this;
                        t && t.bindTo("balloon", "click", function() {
                            n.domElem.animate({
                                scrollTop: e.domElem.offset().top
                            }, 500)
                        })
                    }
                }
            }
        }), t(e)
    }), modules.define("appointment", ["i-bem__dom", "jquery", "BEMHTML"], function(t, e, n, i) {
        e.decl("appointment", {
            onSetMod: {
                js: {
                    inited: function() {
                        this.bindTo("close", "click", function() {
                            this.findBlockOn("modal").setMod("visible", !1)
                        }.bind(this)), this.elem("form").submit(function(t) {
                            t.preventDefault(), this.showLoader(), this.sendMessage({
                                name: this.elem("name").val(),
                                phone: this.elem("phone").val(),
                                service: this.elem("service").val(),
                                time: this.elem("time").val()
                            })
                        }.bind(this))
                    }
                },
                visible: {
                    "true": function() {
                        this.findBlockOn("modal").setMod("visible", !0)
                    }
                }
            },
            message: {
                fail: "Система сообщений временно не работат, пожалуйста, запишитесь по телефону.",
                weekend: "Сегодня стоматология не работает. Мы Вам перезвоним в первый же рабочий день.",
                opened: "Спасибо, мы вам перезвоним в течение часа.",
                closed: "В данный момент в клинике не рабочее время. Мы перезвоним вам с 9 до 10 утра и согласуем время приема."
            },
            showLoader: function() {
                e.after(this.elem("form"), i.apply({
                    elem: "loader",
                    mix: {
                        block: "appointment",
                        elem: "loader"
                    },
                    mods: {
                        attention: "loader"
                    }
                }))
            },
            sendMessage: function(t) {
                n.ajax({
                    type: "POST",
                    url: "/services/",
                    data: t
                }).done(function(t, n, o) {
                    var s = new Date(o.getResponseHeader("date"));
                    e.replace(this.elem("form"), i.apply({
                        tag: "p",
                        content: this.getMessage(s)
                    }))
                }.bind(this)).fail(function() {
                    e.replace(this.elem("form"), i.apply({
                        tag: "p",
                        content: this.message.fail
                    }))
                }.bind(this)).always(function() {
                    e.destruct(this.elem("loader"))
                }.bind(this))
            },
            getMessage: function(t) {
                var e = t.getDay(),
                    n = t.getUTCHours() + 5;
                return e >= 6 ? this.message.weekend : n >= 9 && 21 > n ? this.message.opened : this.message.closed
            }
        }), t(e)
    }), modules.define("price", ["i-bem__dom", "button"], function(t, e, n) {
        e.decl(this.name, {
            onSetMod: {
                js: {
                    inited: function() {
                        this.findBlocksInside("button").map(function(t) {
                            t.on({
                                modName: "checked",
                                modVal: "*"
                            }, function(t) {
                                var e, n = t.target.params.id;
                                this.findBlocksInside("table").map(function(t) {
                                    t.delMod("visible"), t.domElem.attr("id") == n && (e = t)
                                }), e.setMod("visible")
                            }, this)
                        }, this), this.findBlockInside("button").setMod("checked"), n.on(this.domElem, "click", this._onButtonClick, this)
                    }
                }
            },
            _onButtonClick: function(t) {
                this.findBlocksInside("button").map(function(t) {
                    t.delMod("checked")
                }), t.target.setMod("checked")
            }
        }), t(e)
    }), modules.define("our-video", ["i-bem__dom", "BEMHTML"], function(t, e, n) {
        e.decl("our-video", {
            onSetMod: {
                js: {
                    inited: function() {
                        var t = this.__self;
                        this.bindTo("link", "click", function() {
                            var i = "eLSZVCit9Lo",
                                o = e.append(this.domElem, n.apply({
                                    block: "modal",
                                    mods: {
                                        autoclosable: !0
                                    },
                                    content: {
                                        tag: "iframe",
                                        attrs: {
                                            frameborder: "0",
                                            src: "http://www.youtube.com/embed/" + i + "?rel=0&amp;wmode=transparent",
                                            style: "width:" + t.size.width() + "px;height:" + t.size.height() + "px;background: url(http://img.youtube.com/vi/" + i + "/hqdefault.jpg) center/cover"
                                        }
                                    }
                                })).bem("modal");
                            return o.setMod("visible", !0), !1
                        })
                    }
                }
            }
        }, {
            size: {
                maxWidth: 640,
                viewport: document.documentElement.clientWidth,
                width: function() {
                    return this.viewport > this.maxWidth ? .9 * this.maxWidth : .9 * this.viewport
                },
                height: function() {
                    return this.viewport > this.maxWidth ? .9 * this.maxWidth * .75 : .9 * this.viewport * .75
                }
            }
        }), t(e)
    }), modules.define("consultation", ["i-bem__dom", "jquery", "jquery__scroolly"], function(t, e, n) {
        e.decl("consultation", {
            onSetMod: {
                js: {
                  /*  inited: function() {
                        var t = n(window).height(),
                            e = this.domElem.height();
                        if (!(e - .1 * e >= t)) {
                            var i = this.findBlockInside("manual").elem("tab");
                            i.find("input").each(function(t, e) {
                                e.disabled = !0, e.style.cursor = "default"
                            }), this.domElem.height(n(window).height() + 1e3), this.elem("wrapper").scroolly([{
                                to: "con-top",
                                css: {
                                    top: "0",
                                    bottom: "",
                                    position: "absolute"
                                }
                            }, {
                                from: "con-top",
                                to: "con-bottom",
                                css: {
                                    top: "0",
                                    bottom: "",
                                    position: "fixed"
                                }
                            }, {
                                from: "con-top = vp-bottom",
                                to: "con-top + 200px = vp-top",
                                onCheckIn: function() {
                                    n(i[0]).bem("tab").elem("control").prop("checked", !0)
                                }
                            }, {
                                from: "con-top + 200px = vp-top",
                                to: "con-top + 400px = vp-top",
                                onCheckIn: function() {
                                    n(i[1]).bem("tab").elem("control").prop("checked", !0)
                                }
                            }, {
                                from: "con-top + 400px = vp-top",
                                to: "con-top + 600px = vp-top",
                                onCheckIn: function() {
                                    n(i[2]).bem("tab").elem("control").prop("checked", !0)
                                }
                            }, {
                                from: "con-top + 600px = vp-top",
                                to: "con-top + 800px = vp-top",
                                onCheckIn: function() {
                                    n(i[3]).bem("tab").elem("control").prop("checked", !0)
                                }
                            }, {
                                from: "con-top + 800px = vp-top",
                                to: "con-bottom = vp-top",
                                onCheckIn: function() {
                                    n(i[4]).bem("tab").elem("control").prop("checked", !0)
                                }
                            }, {
                                from: "con-bottom",
                                css: {
                                    top: "",
                                    bottom: "0",
                                    position: "absolute"
                                }
                            }], this.domElem)
                        }
                    }*/
                }
            }
        }), t(e)
    });